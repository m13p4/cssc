/* CSSC.js | @version 1.0b |  m13p4 */
var CSSC=function(x){function r(){for(var b=arguments,a=1;a<b.length;a++)if(b[0]===b[a])return!0;return!1}function v(b,a){a=a[4];b='"'+a.style_id+'"/'+b.replace(/^.+?:/,function(a){return(a+"    ").slice(0,7)});a.view_err&&console.log(b);W.push(b)}function n(b,a){var c=Object.prototype.toString.call(b).split(/ |\]/)[1];"Number"!==c||a||(c=Math.floor(b)===b?3:4);return a?c:ea[c]||c}function L(b,a){for(var c in a)fa(b,c,{enumerable:!0,value:a[c]})}function z(b,a,c){var d=n(b),e=5===d,g=e&&b.match(/^0x[0-9a-f\.\+]+$/i);
if(g||isFinite(b)){c=(c[4].parse_unit_default||"px")+"";var f=b;g?(d=b.search(/\.|\+/),0>d?f=parseInt(b):(e=b.substr(d+1),f=parseInt(b.substr(0,d))+("+"===b.charAt(d)?parseFloat(e):parseInt(e,16)/Math.pow(16,e.length))),d=n(f)):e&&(f=parseFloat(b),d=n(f));g||/(^|-)color$/i.test(a)?(b=f,e=0,4===d&&(b=Math.floor(f),e=f-b),b=[(b&16711680)>>16,(b&65280)>>8,b&255].join(", "),b=0<e?"rgba("+b+", "+Math.floor(100*e)/100+")":"rgb("+b+")"):b=3===d?f+c:Math.floor(100*f)/100+c}else if(e&&-1<b.indexOf(" ")){b=
b.split(" ");for(d=0;d<b.length;d++)b[d]=z(b[d],a,c);b=b.join(" ")}else e&&"!"===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));return b}function B(b,a,c,d,e){c=c||2;c=5===n(c)?c:Array(parseInt(c)+1).join(" ");var g="",f,h=n(b),k=/\s*,\s*/g,m=/\s*(,|:)\s*/g;d=d||"";if(5===h)return b;if(7===h)for(h=0;h<b.length;h++)g+=B(b[h],a,c,d,!0);else for(f in b){var l=b[f];h=n(b[f]);if(r(h,7,8))if(e&&7===h){var p=B(b[f],a,c,d+c,e);""!==p&&(g=a?g+(f.replace(m,"$1")+"{"+p+"}"):g+(d+f.replace(k,",\n"+d)+" {\n"+
p+d+"}\n"))}else for(8===h&&(l=[b[f]]),h=0;h<l.length;h++)-1<A.indexOf(f)?g+=f+" "+l[h]+";"+(a?"":"\n"):(p=B(l[h],a,c,d+c,e),""!==p&&(g=a?g+(f.replace(m,"$1")+"{"+p+"}"):g+(d+f.replace(k,",\n"+d)+" {\n"+p+d+"}\n")));else g=-1<A.indexOf(f)?g+(f+" "+l+";"+(a?"":"\n")):a?g+(f+":"+l.trim().replace(k,",")+";"):g+((d.length<c.length?c:d)+f+": "+l+";\n")}return g}function X(b){if(/^@(namespace|import|charset)/.test(b))return b.replace(/(^@.*\s+|\s*;\s*$)/g,"");var a=b.replace(/(^.*?{\s*|\s*}\s*$)/g,"");
b=a.split(";");var c={};if(""!==a)for(a=0;a<b.length;a++)if(""!==b[a]){var d=b[a].split(":");c[d[0].trim()]=d.slice(1).join(":").trim()}return c}function Y(b){var a=b.split("-"),c;b=a[0];for(c=1;c<a.length;c++)b+=a[c].charAt(0).toUpperCase()+a[c].substr(1);return b}function M(b){b=b.trim();if("@"!==b.charAt(0))return 1;b=b.substr(1);var a=b.indexOf(" ");-1<a&&(b=b.substr(0,a));return N[Y(b)]||-1}function O(b,a){"@"===a.charAt(0)&&"@"===b.charAt(0)&&(a=a.substr(1));a="/"===a.charAt(0)?a.substr(1):
","===a.charAt(0)?", "+a.substr(1).trim():" "+a;if(0<=b.indexOf(",")||0<a.indexOf(",")){b=b.split(",");var c,d="",e=a.split(",");if(","!==a.charAt(0))for(c=0;c<b.length;c++)for(a=0;a<e.length;a++)d+=b[c]+e[a]+", ";else for(c=0;c<b.length;c++)d+=b[c]+a+", ";return d.replace(/,+\s*$/,"")}return b+a}function Z(b){var a=b.parentRule?b.parentRule:b.parentStyleSheet,c;for(c=0;c<a.cssRules.length;c++)if(a.cssRules[c]===b){a.deleteRule(c);break}}function C(b,a){b||(b="");for(var c=b.lastIndexOf("$"),d=0,
e,g,f,h,k,m,l=a[4].parse_vars_limit||100,p=a[3]||{};0<=c&&d<l;){d++;e=null;h=b.substr(c+1);a=h.search(/[^\w\.]/);a=0>a?b.length:a+c;k=b.substr(c+1,a-c);m=k.split(".");for(g=0;g<m.length;g++)if(!(1>m[g].length)){f=n(e);if(0===g&&m[g]in p)e=p[m[g]];else if(r(f,7,8)&&m[g]in e)e=e[m[g]];else if(5===f&&m[g].match(/^[0-9]+$/))e=e.charAt(m[g]);else{e="$"+k;break}if(9===n(e)){if("("===b.charAt(a+1)){a++;f=h=a;do f=b.indexOf("(",f+1),a=b.indexOf(")",a+1);while(-1<f&&f<a);0>a&&(a=b.length);h=b.substr(h+1,a-
h-1);h=h.trim().split(/\s*,\s*/);e=e.apply(null,h)}else e=e();if("."===b.charAt(a+1))for(a++,f=a,h=b.substr(a+1),a=h.search(/[^\w\.]/),h=h.substr(0,0>a?h.length:a),a=0>a?b.length:a+f,k=b.substr(c+1,a-c),h=h.split("."),f=0;f<h.length;f++)m.push(h[f])}}b=b.substr(0,c)+e+b.substr(a+1);a="$"+k===e?c:a+(e.length-1);if(0>--a)break;c=b.lastIndexOf("$",a)}return b}function aa(b,a,c){for(var d=0;d<a.length;d++)!t&&a[d]&&a[d].parentStyleSheet&&a[d].parentStyleSheet.ownerNode&&a[d].parentStyleSheet.ownerNode.id!==
b[4].style_id&&H(b,a[d],c)}function H(b,a,c,d){var e=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),g=a.type,f=c?c.c:b[0],h=0,k=r(g,4,7,12);if(!r(g,1,5,4,7,8,6,12,10,3,2))return v('index:Unsuported "'+e+'" ['+g+"]",b);10===g&&(e=A[2]);3===g&&(e=A[1]);2===g&&(e=A[0]);d={_s:d||e,s:e,e:a,t:g,o:{},n:0,c:k?{}:!1,p:c||!1,io:!1,uo:!1,up:{}};k?aa(b,a.cssRules,d):d.o=X(a.cssText);a=b[2].push(d)-1;d.n=a;c||(b[6][a]=d);do f[e]?f[e].e.push(a):f[e]={t:g,e:[a]},c&&(h++,e=c.s+" >> "+e,f=b[0]);while(1===h);return d}
function y(b,a,c,d,e){var g="",f=!1;if(!e&&!b[1])if(t)b[1]=!0;else{var h=b[4].style_id;if(x.getElementById(h))for(var k=0;10>k;k++)if(!x.getElementById(h+"-"+k)){h=h+"-"+k;break}x.getElementById(h)?v("create:can't create element.",b):(k=x.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("id",h),x.head.appendChild(k),b[1]=k,b[4].style_id=h)}h=e?e.e:b[1].sheet;if(c)if(k=n(c),8===k)for(var m in c)9===n(c[m])?(d=c[m](),g+=m+":"+z(d,m,b)+"; "):g+=m+":"+z(c[m],m,b)+"; ";else if(9===
k)for(m in d=c(),d)g+=m+":"+z(d[m],m,b)+"; ";else g=c+":"+z(d,m,b)+";";m=a+"{"+g+"}";-1<A.indexOf(a)&&(m=a+" "+c);if(!t)try{var l=h.cssRules.length;"insertRule"in h?h.insertRule(m,l):"appendRule"in h?h.appendRule(m,l):"addRule"in h&&h.addRule(a,g,l);f=H(b,h.cssRules[l],e,a)}catch(p){v("create:"+(e?'"'+e.s+'" > ':"")+'"'+a+'" -> '+p,b)}return f||H(b,{cssText:m,type:M(a),placeholder:!t,cssRules:{},style:{}},e,a)}function ba(b,a,c){if(b&&b[a]){var d=c?b[a].e.indexOf(c):-1;c?0<=d&&(b[a].e.splice(d,1),
0>=b[a].e.length&&delete b[a]):delete b[a]}}function D(b,a){7!==n(a)&&(a=[a]);b=b[2];for(var c={},d=0;d<a.length;d++)b[a[d]]&&(c[a[d]]=b[a[d]]);return c}function E(b,a,c,d){var e=n(c),g=!a;a=g?b[0]:a.c;var f=[];if(5===e)c=C(c,b),a[c]&&(f=a[c].e);else if(6===e)for(var h in a){if(c.test(h))for(e=0;e<a[h].e.length;e++)f.push(a[h].e[e])}else if(7===e)for(e=0;e<c.length;e++){if(g=C(c[e],b),a[g])for(h=0;h<a[g].e.length;h++)f.push(a[g].e[h])}else if(r(e,1,2)){if(g)return d?b[6]:I(b,b[6]);for(h in a)for(e=
0;e<a[h].e.length;e++)f.push(a[h].e[e])}f=D(b,f);return d?f:I(b,f,c)}function P(b,a,c,d){var e=n(a);if(r(e,5,6,7,1,2))return E(b,!1,a,c);J(b,a);return d}function J(b,a,c,d){var e,g,f={},h=/^@(media|keyframes|supports)/;7!==n(a)&&(a=[a]);if(!d&&!c){var k=!1;for(g=0;g<w.length;g++)for(e=0;e<a.length;e++)if(w[g]in a[e]){k=!0;d=f[w[g]];var m=a[e][w[g]];m=7===n(m)?m:[m];f[w[g]]=d?d.concat(m):m}k&&J(b,f,c,k)}for(e=0;e<a.length;e++)for(l in d=a[e],d)if(!(l in f)){m=7===n(d[l])?d[l]:[d[l]];var l=C(l,b);for(g=
0;g<m.length;g++)if("@"===l.charAt(0))if(-1<w.indexOf(l))y(b,l,m[g],null,c);else if(c&&r(c.t,4,7,12)||h.test(l)){var p=l;(k=c)&&!l.match(h)&&(l=O(c._s,l),k=c.p);k=y(b,l,null,null,k);k&&k.s===k._s||(k&&(Z(k.e),ba(k.p?k.p:b[0],k.s,k)),k={cssText:l+" {}",placeholder:!0,type:M(l),cssRules:{}},k=H(b,k,k.p,l));J(b,m[g],k);c&&(k.io=!0,c.o[p]||(c.o[p]=[]),c.o[p].push(k.n))}else v('import:Unsuported "'+l+'" ['+M(l)+"]",b);else r(n(m[g]),5,4,3)?(k=c?c.c:b[0],k["*"]||y(b,"*",null,null,c),q(b,D(b,k["*"].e),l,
m[g])):(k=y(b,l,null,null,c))&&q(b,[k],m[g])}}function q(b,a,c,d,e,g){if(a[e]){if(r(a[e].t,2,3,10,5))return v('set:Readonly rule "'+a[e].s+'" ['+a[e].t+"]",b);c=C(c,b);if(a[e].c)q(b,E(b,a[e],null,!0),c,d,!1,g);else{var f=n(d);if(r(f,8,7)){var h="@"===c.charAt(0);var k=8===f?[d]:d,m=O(a[e].s,c);!g&&h&&(m=a[e].p?O(a[e].p.s,c):c);for(f=0;f<k.length;f++)if(g&&7===n(a[e].o[c]))q(b,D(b,a[e].o[c]),k[f],!1,!1,g);else{var l=y(b,m,null,null,h?!1:a[e].p);!g&&l&&(h&&(d=l,(l=y(b,a[e].s,null,null,l))||(l=d)),q(b,
[l],k[f],!1,!1,g),h&&a[e].p&&(d=a[e].p,7!==n(d.o[c])&&(d.o[c]=[]),d.o[c].push(l.p.n)),l.io=!0,7!==n(a[e].o[c])&&(a[e].o[c]=[]),a[e].o[c].push(l.n))}}else if(9===f)try{k=d(c,F(b,[a[e]],c)),q(b,a,c,k,e,g),g||(a[e].up[c]=d)}catch(p){v("set:"+p,b)}else{f=z(d,c,b);if(c in b[5])for(d=0;d<b[5][c].length;d++)q(b,a,b[5][c][d],f,e,g);if(!t){if(c in K)for(d=0;d<K[c].length;d++){if(K[c][d]in a[e].e.style){h=K[c][d];break}}else h=Y(c);h!==c&&(a[e].e.style[h]=f);a[e].e.style[c]=f}a[e].o[c]=f}}}else if(h=n(c),7===
h)for(f=0;f<c.length;f++)if(a.length>f)q(b,[a[f]],c[f]);else break;else for(f in a)if(8===h)for(l in c)q(b,a,l,c[l],f,g);else if(9===h){e=c(a[f].s,F(b,[a[f]])[a[f].s]);for(l in e)q(b,a,l,e[l],f,g);g||(a[f].uo=c)}else q(b,a,c,d,f,g)}function F(b,a,c,d){if(!c)return u(b,a,3);var e=d?[]:"",g;for(g in a){var f="";a[g].o[c]&&(f=a[g].o[c],7===n(f)&&(f=u(b,D(b,f),3)));t||(f||(f=a[g].e.style[c]),f||(f=(f=a[g].e.cssText.match(new RegExp(c+"s*:s*(.+?);")))?f[1].trim():""));f&&(d?e.push(f):e=f)}return e}function u(b,
a,c,d,e){3!==n(c)&&(c=ha[c]||3);d||(d=[]);var g=r(c,1,2),f=4===c?[]:g?"":{},h,k,m=c,l={};for(h in a)if(0>d.indexOf(h)){if(r(a[h].t,2,3,10))var p=a[h].o;else for(k in p=G({},a[h].o),a[h].o)7===n(a[h].o[k])?3!==c?(p[k]=null,delete p[k]):p[k]=u(b,D(b,a[h].o[k]),c,d,!0):1!==c&&2!==c&&isFinite(a[h].o[k])&&(p[k]+="!");a[h].c&&(p=G(u(b,E(b,a[h],null,!0),m,d),p));if(!(1>ia(p).length)){if(g||4===c){var q={};q[a[h].s]=p;g?f+=B(q,2===c,b[4].parse_tab):f.push(q)}else q=0>w.indexOf(a[h].s)?f:l,q[a[h].s]?(7!==
n(q[a[h].s])&&(q[a[h].s]=[q[a[h].s]]),q[a[h].s].push(p)):q[a[h].s]=p;d.push(h)}}if(g||4===c)return f;f=G(l,f);if(e){q=!1;b=0;for(h in f)if(b++,1===b)q=f[h];else break;if(1===b)return q}return f}function Q(b,a){var c,d;for(c in a){if(!1!==a[c].uo){var e=a[c].uo(a[c].s,F(b,[a[c]])[a[c].s]);for(d in e)q(b,a,d,e[d],c,!0)}if(a[c].c)Q(b,E(b,a[c],null,!0));else for(d in a[c].up)q(b,a,d,a[c].up[d](d,F(b,[a[c]],d)),c,!0)}}function R(b,a,c,d){var e=r(n(c),1,2),g,f=[];for(g in a)a[g].c&&R(b,E(b,a[g],null,!0),
c,d),e?(Z(a[g].e),ba(a[g].p?a[g].p:b[0],a[g].s,a[g])):(f.push(a[g]),t||(a[g].e.style[c]=""),a[g].o[c]&&(7===n(a[g].o[c])&&R(b,a[g].o[c]),delete a[g].o[c]));d&&(d.e=S(b,f))}function T(b,a,c,d,e){0>c&&(c+=ja(a).length);var g,f=0,h={};for(g in a){if(c===f){h[g]=a[g];break}f++}return I(b,h,d,!1,e)}function S(b,a){var c=[],d;for(d in a)c.push(t||a[d].e.placeholder?u(b,[a[d]],3):a[d].e);return c}function ca(b,a,c,d){var e=n(a);if(8===e)G(b,a);else if(5===e){if(2===n(c))return b[a];b[a]=c}else{if(7===e){c=
{};for(d=0;d<a.length;d++)c[a[d]]=b[a[d]];return c}if(2===e)return b}return d}function I(b,a,c,d,e){function g(){if(1>a.length&&!d&&5===n(c)){var g,k=[],m,l=e?e:[null];for(m=0;m<l.length;m++)(g=y(b,c,null,null,l[m]))&&k.push(g);a=k;f.e=S(b,a);f.selector=1===a.length?a[0].s:c}}var f=function(c){var d,e,f=[];g();for(d in a)if(a[d].c){var h=P(a[d].c,c,!0);for(e=0;e<h.length;e++)f.push(h[e])}return I(b,f,c,null,a)};f.e=S(b,a);f.selector=1===a.length?a[0].s:c;L(f,{set:function(c,d){g();q(b,a,c,d);return f},
get:function(c,d){return F(b,a,c,d)},update:function(){Q(b,a);return f},"delete":function(c){R(b,a,c,f);return f},"export":function(c){return u(b,a,c)},parse:function(c){return u(b,a,c?2:1)},pos:function(d){return T(b,a,d,c,e)},first:function(){return T(b,a,0,c,e)},last:function(){return T(b,a,-1,c,e)}});return f}function U(){var b=[{},!1,[],{},{},{},{}],a=function(c){try{return P(b,c,!1,a)}catch(d){v("CSSC:"+d,b)}};L(a,{version:"1.0.0",init:function(c){c=7===n(c)?c:[c];for(var d=0;d<c.length;d++){var e=
!1;var g=n(c[d],1);if(c[d]){c[d]=c[d].sheet||c[d];g=c[d].href||g;try{e=c[d].cssRules||e}catch(h){g+='" -> "'+h}if(!e&&9===n(c[d])){if(c[d].e&&7===n(c[d].e)){e=c[d].e;var f="handler"}else"1.0.0"===c[d].version&&c[d].type===N?(e=c[d]().e,f="ID:"+c[d].conf().style_id):f=c[d].name;g=(e?"CSSC":g)+"["+f+"]"}}e&&0<e.length?aa(b,e,null):v("init:Can't init from \""+g+'"',b)}return a},"import":function(c){J(b,c);return a},"export":function(a){return u(b,b[6],a)},parse:function(a){return u(b,b[6],a?2:1)},update:function(c){c?
P(b,c).update():Q(b,b[6]);return a},"new":function(){return U()},alias:function(c,d){var e=b[5],g=n(c),f;5===g&&(g={},g[c]=d,c=g,g=8);if(8===g)for(f in c)for(g=c[f],7!==n(g)&&(g=[g]),(f in e)||(e[f]=[]),d=0;d<g.length;d++)e[f].push(g[d]);return a},conf:function(c,d){return ca(b[4],c,d,a)},vars:function(c,d){return ca(b[3],c,d,a)},parseVars:function(a,d){return C(a,[,,,d?G({},b[3],d):b[3],b[4]])},objFromCss:function(a){return X(a)},cssFromObj:function(a,b,e){return B(a,b,e)},_conf:da,type:N,type_export:ka,
messages:W});return a.conf(da)}var w=["@charset","@import","@namespace","@font-face"],A=w.slice(0,3),W=[],ea={Null:1,Undefined:2,Integer:3,Float:4,String:5,RegExp:6,Array:7,Object:8,Function:9},t=8===n(x),K={float:["cssFloat"]},G=9===n(Object.assign)?Object.assign:function(){var b,a,c=arguments;for(a=1;a<c.length;a++)for(b in c[a])c[0][b]=c[a][b];return c[0]},fa=9===n(Object.defineProperty)?Object.defineProperty:function(b,a,c){b[a]=c.value},la=9===n(Object.preventExtensions),V=9===n(Object.freeze)?
Object.freeze:function(b){var a={};L(a,b);b=a;la&&Object.preventExtensions(b);return b},ia=9===n(Object.keys)?Object.keys:function(b){var a=[],c;for(c in b)a.push(c);return a},ja=9===n(Object.values)?Object.values:function(b){var a=[],c;for(c in b)a.push(b[c]);return a},N=V({rule:1,charset:2,"import":3,media:4,fontFace:5,page:6,keyframes:7,keyframe:8,namespace:10,counterStyle:11,supports:12,fontFeatureValues:14,viewport:15}),ha={css:1,min:2,obj:3,object:3,arr:4,array:4,objNMD:5},ka=V({css:"css",min:"min",
obj:"obj",arr:"arr",object:"object",notMDObject:"objNMD",array:"array"}),da=V({style_id:"cssc-style",view_err:!0,parse_tab:2,parse_unit_default:"px",parse_vars_limit:100});if(t)x.exports=U();else return U()}("undefined"===typeof module?document:module);
