/* CSSC.js | @version 1.0b |  m13p4 */
var CSSC=function(t){function r(){for(var b=arguments,a=1;a<b.length;a++)if(b[0]===b[a])return!0;return!1}function w(b,a){a=a[4];b='"'+a.style_id+'"/'+b.replace(/^.+?:/,function(a){return(a+"     ").slice(0,8)});a.view_err&&console.log(b);X.push(b)}function n(b,a){var c=Object.prototype.toString.call(b).split(/ |\]/)[1];"Number"!==c||a||(c=Math.floor(b)===b?3:4);return a?c:da[c]||c}function L(b,a){for(var c in a)ea(b,c,{enumerable:!0,value:a[c]})}function A(b,a,c){var d=n(b),e=5===d,f=e&&b.match(/^0x[0-9a-f\.\+]+$/i);
if(f||isFinite(b)){var h=c[7][a],g=b;2===n(h)&&(h=c[4].parse_unit_default||"px");h+="";f?(d=b.search(/\.|\+/),0>d?g=parseInt(b):(c=b.substr(d+1),g=parseInt(b.substr(0,d))+("+"===b.charAt(d)?parseFloat(c):parseInt(c,16)/Math.pow(16,c.length))),d=n(g)):e&&(g=parseFloat(b),d=n(g));f||/(^|-)color$/i.test(a)?(b=g,c=0,4===d&&(b=Math.floor(g),c=g-b),b=[(b&16711680)>>16,(b&65280)>>8,b&255].join(", "),b=0<c?"rgba("+b+", "+Math.floor(100*c)/100+")":"rgb("+b+")"):b=3===d?g+h:Math.floor(100*g)/100+h}else if(e&&
-1<b.indexOf(" ")){b=b.split(" ");for(d=0;d<b.length;d++)b[d]=A(b[d],a,c);b=b.join(" ")}else e&&"!"===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));return b}function Y(b){if(/^@(namespace|import|charset)/.test(b))return b.replace(/(^@.*\s+|\s*;\s*$)/g,"");var a=b.replace(/(^.*?{\s*|\s*}\s*$)/g,"");b=a.split(";");var c={};if(""!==a)for(a=0;a<b.length;a++)if(""!==b[a]){var d=b[a].split(":");c[d[0].trim()]=d.slice(1).join(":").trim()}return c}function Z(b){var a=b.split("-"),c;b=a[0];for(c=1;c<a.length;c++)b+=
a[c].charAt(0).toUpperCase()+a[c].substr(1);return b}function aa(b){b=b.trim();if("@"!==b.charAt(0))return 1;b=b.substr(1);var a=b.indexOf(" ");-1<a&&(b=b.substr(0,a));return M[Z(b)]||-1}function N(b,a){"@"===a.charAt(0)&&"@"===b.charAt(0)&&(a=a.substr(1));a="/"===a.charAt(0)?a.substr(1):","===a.charAt(0)?", "+a.substr(1).trim():" "+a.trim();if(0<=b.indexOf(",")||0<a.indexOf(",")){var c=b.split(","),d="",e=a.split(",");if(","!==a.charAt(0))for(b=0;b<c.length;b++)for(a=0;a<e.length;a++)d+=c[b]+e[a]+
", ";else d+=b+a+", ";return d.replace(/,+\s*$/,"")}return b+a}function C(b,a){b||(b="");for(var c=b.lastIndexOf("$"),d=0,e,f,h,g,k,l,m=a[4].parse_vars_limit||100,p=a[3]||{};0<=c&&d<m;){d++;e=null;g=b.substr(c+1);a=g.search(/[^\w\.]/);a=0>a?b.length:a+c;k=b.substr(c+1,a-c);l=k.split(".");for(f=0;f<l.length;f++)if(!(1>l[f].length)){h=n(e);if(0===f&&l[f]in p)e=p[l[f]];else if(r(h,7,8)&&l[f]in e)e=e[l[f]];else if(5===h&&l[f].match(/^[0-9]+$/))e=e.charAt(l[f]);else{e="$"+k;break}if(9===n(e)){if("("===
b.charAt(a+1)){a++;h=g=a;do h=b.indexOf("(",h+1),a=b.indexOf(")",a+1);while(-1<h&&h<a);0>a&&(a=b.length);g=b.substr(g+1,a-g-1);g=g.trim().split(/\s*,\s*/);e=e.apply(null,g)}else e=e();if("."===b.charAt(a+1))for(a++,h=a,g=b.substr(a+1),a=g.search(/[^\w\.]/),g=g.substr(0,0>a?g.length:a),a=0>a?b.length:a+h,k=b.substr(c+1,a-c),g=g.split("."),h=0;h<g.length;h++)l.push(g[h])}}b=b.substr(0,c)+e+b.substr(a+1);a="$"+k===e?c:a+(e.length-1);if(0>--a)break;c=b.lastIndexOf("$",a)}return b}function ba(b,a,c){for(var d=
0;d<a.length;d++)!u&&a[d]&&a[d].parentStyleSheet&&a[d].parentStyleSheet.ownerNode&&a[d].parentStyleSheet.ownerNode.id!==b[4].style_id&&O(b,a[d],c)}function O(b,a,c,d,e){var f=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),h=a.type,g=c?c.c:b[0],k=r(h,4,7,12);if(!r(h,1,5,4,7,8,6,12,10,3,2))return w('index:Unsuported "'+f+'" ['+h+"]",b);r(h,10,3,2)&&(d=f=10===h?F[2]:3===h?F[1]:F[0]);var l={n:0,_s:d||f,s:f,e:a,t:h,p:c||!1,o:{},c:k?{}:!1,oc:{},io:!1,uo:!1,up:{}};k&&!e?ba(b,a.cssRules,l):k||(l.o=Y(a.cssText));
a=b[2].push(l)-1;l.n=a;c||(b[6][a]=l);e=[[f,g]];k=0;var m=d!==f;m&&e.push([d,g]);c&&e.push([c.s+" >> "+f,b[0]]);c&&c.s!==c._s&&m&&e.push([c._s+" >> "+d,b[0]]);for(c&&c.s!==c._s&&e.push([c._s+" >> "+f,b[0]]);k<e.length;k++)e[k][1][e[k][0]]?e[k][1][e[k][0]].e.push(a):e[k][1][e[k][0]]={t:h,e:[a]};return l}function y(b,a,c,d,e){var f="",h=!1;if(!e&&!b[1])if(u)b[1]=!0;else{var g=b[4].style_id;if(t.getElementById(g))for(var k=0;10>k;k++)if(!t.getElementById(g+"-"+k)){g=g+"-"+k;break}t.getElementById(g)?
w("create:can't create element.",b):(k=t.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("id",g),t.head.appendChild(k),b[1]=k,b[4].style_id=g)}g=e?e.e:b[1].sheet;if(c)if(k=n(c),8===k)for(var l in c)9===n(c[l])?(d=c[l](),f+=l+":"+A(d,l,b)+"; "):f+=l+":"+A(c[l],l,b)+"; ";else if(9===k)for(l in d=c(),d)f+=l+":"+A(d[l],l,b)+"; ";else f=c+":"+A(d,l,b)+";";f=a+" { "+f+" }";-1<F.indexOf(a)&&(f=a+" "+c);if(!u)try{var m=g.insertRule(f,g.cssRules.length);-1<m&&(h=O(b,g.cssRules[m],e,
a,!0))}catch(p){w('create:"'+(e?e.s+" >> ":"")+a+'" -> '+p,b)}return h||O(b,{cssText:f,type:aa(a),placeholder:!u,cssRules:{},style:{}},e,a,!0)}function D(b,a){7!==n(a)&&(a=[a]);b=b[2];for(var c=[],d=0;d<a.length;d++)b[a[d]]&&(c[a[d]]=b[a[d]]);return c}function B(b,a,c,d){var e=n(c),f=!a;a=f?b[0]:a.c;var h=[];if(5===e)c=C(c,b),a[c]&&(h=a[c].e);else if(6===e)for(var g in a){if(c.test(g))for(e=0;e<a[g].e.length;e++)h.push(a[g].e[e])}else if(7===e)for(e=0;e<c.length;e++){if(f=C(c[e],b),a[f])for(g=0;g<
a[f].e.length;g++)h.push(a[f].e[g])}else if(r(e,1,2)){if(f)return d?b[6]:G(b,b[6]);for(g in a)for(e=0;e<a[g].e.length;e++)h.push(a[g].e[e])}h=D(b,h);return d?h:G(b,h,c)}function P(b,a,c,d){var e=n(a);if(r(e,5,6,7,1,2))return B(b,!1,a,c);H(b,a,!1);return d}function H(b,a,c,d){var e,f,h={},g=/^@(media|keyframes|supports)/;7!==n(a)&&(a=[a]);if(!d&&!c){var k=!1;for(f=0;f<x.length;f++)for(e=0;e<a.length;e++)if(x[f]in a[e]){k=!0;d=h[x[f]];var l=a[e][x[f]];l=7===n(l)?l:[l];h[x[f]]=d?d.concat(l):l}k&&H(b,
h,c,k)}for(e=0;e<a.length;e++)for(m in d=a[e],d)if(!(m in h)){l=7===n(d[m])?d[m]:[d[m]];var m=C(m,b);for(f=0;f<l.length;f++)if("@"===m.charAt(0))if(-1<x.indexOf(m))y(b,m,l[f],null,c);else if(c&&r(c.t,4,7,12)||g.test(m)){var p=m;(k=c)&&!m.match(g)&&(m=N(c._s,m),k=c.p);k=y(b,m,null,null,k);H(b,l[f],k,!1,!0);c&&(k.io=!0,c.o[p]||(c.o[p]=[]),c.o[p].push(k.n))}else w('import:Unsuported "'+m+'" ['+aa(m)+"]",b);else r(n(l[f]),5,4,3)?(k=c?c.c:b[0],k["*"]||y(b,"*",null,null,c),q(b,D(b,k["*"].e),m,l[f])):(k=
y(b,m,null,null,c))&&q(b,[k],l[f])}}function q(b,a,c,d,e,f){if(a[e]){if(r(a[e].t,2,3,10,5))return w('set:Readonly rule "'+a[e].s+'" ['+a[e].t+"]",b);c=C(c,b);if(a[e].c)q(b,B(b,a[e],null,!0),c,d,!1,f);else{var h=n(d),g;if(/!extend/i.test(c))q(b,[a[e]],d);else if(r(h,8,7)){var k="@"===c.charAt(0);var l=8===h?[d]:d,m=N(a[e].s,c);!f&&k&&(m=a[e].p?N(a[e].p.s,c):c);for(g=0;g<l.length;g++)f&&7===n(a[e].o[c])?q(b,D(b,a[e].o[c]),l[g],!1,!1,f):(d=y(b,m,null,null,k?!1:a[e].p),!f&&d&&(k&&(h=d,(d=y(b,a[e].s,null,
null,d))||(d=h)),q(b,[d],l[g],!1,!1,f),k&&a[e].p&&(h=a[e].p,7!==n(h.o[c])&&(h.o[c]=[]),h.o[c].push(d.p.n)),d.io=!0,7!==n(a[e].o[c])&&(a[e].o[c]=[]),a[e].o[c].push(d.n)))}else if(9===h)try{k=d(c,E(b,[a[e]],c)),q(b,a,c,k,e,f),f||(a[e].up[c]=d)}catch(p){w("set:"+p,b)}else{k=A(d,c,b);if(c in b[5])for(h=0;h<b[5][c].length;h++)q(b,a,b[5][c][h],d,e,f);if(!u){if(c in I)for(h=0;h<I[c].length;h++){if(I[c][h]in a[e].e.style){g=I[c][h];break}}else g=Z(c);g!==c&&(a[e].e.style[g]=k);a[e].e.style[c]=k}a[e].o[c]=
k}}}else for(g=0,k=n(c);g<a.length;g++)if(a[g])if(8===k)for(h in c)q(b,a,h,c[h],g,f);else if(9===k){e=c(a[g].s,E(b,[a[g]])[a[g].s]);for(h in e)q(b,a,h,e[h],g,f);f||(a[g].uo=c)}else q(b,a,c,d,g,f)}function E(b,a,c,d){if(!c)return z(b,a,3);for(var e=d?[]:"",f,h=0;h<a.length;h++)a[h]&&(f="",a[h].o[c]&&(f=a[h].o[c],7===n(f)&&(f=z(b,D(b,f),3))),u||(f||(f=a[h].e.style[c]),f||(f=(f=a[h].e.cssText.match(new RegExp(c+"s*:s*(.+?);")))?f[1].trim():"")),f&&(d?e.push(f):e=f));return e}function J(b,a,c,d,e,f){d||
(d=[]);var h=":",g=";",k="{",l="}";c?e=f="":(f||(f=b[4].parse_tab,k=n(f),r(k,5,3,4)||(f=2,k=n(f)),4===k&&(f=Math.floor(f)),5!==k&&(f=Array(f+1).join(" "))),e=e||"",k=" {\n",h+=" ",g+="\n",l+="\n");for(var m=0,p="",q="",u="",w="",x="",t,v;m<a.length;m++)if(a[m]&&0>d.indexOf(m)){if(r(a[m].t,2,3,10))v=e+a[m]._s+" "+a[m].o+g,2===a[m].t?q+=v:3===a[m].t?u+=v:w+=v;else{v="";for(t in a[m].o)7!==n(a[m].o[t])&&(v+=e+f+t+h+a[m].o[t]+g);a[m].c&&(v+=J(b,B(b,a[m],null,!0),c,d,e+f,f));0<v.length&&(t=a[m]._s,v=e+
t+k+v+e+l,5===a[m].t?x+=v:p+=v)}d.push(m)}return q+u+w+x+p}function z(b,a,c,d,e){3!==n(c)&&(c=fa[c]||3);if(r(c,1,2))return J(b,a,2===c);d||(d=[]);for(var f=4===c?[]:{},h,g=0,k,l,m={},p;g<a.length;g++)if(a[g]&&0>d.indexOf(g)){h={};if(r(a[g].t,2,3,10))h=a[g].o,p=!0;else for(k in p=!1,a[g].o)7===n(a[g].o[k])?3===c&&(h[k]=z(b,D(b,a[g].o[k]),c,d,!0),p=!0):(h[k]=a[g].o[k]+(isFinite(a[g].o[k])?"!":""),p=!0);a[g].c&&(l=B(b,a[g],null,!0),0<l.length&&(h=K(z(b,l,c,d,!1),h),p=!0));p&&(4===c?(l={},l[a[g]._s]=
h,f.push(l)):(l=0>x.indexOf(a[g].s)?f:m,l[a[g]._s]?(7!==n(l[a[g]._s])&&(l[a[g]._s]=[l[a[g]._s]]),l[a[g]._s].push(h)):l[a[g]._s]=h));d.push(g)}if(4===c)return f;f=K(m,f);if(e){l=!1;b=0;for(g in f)if(b++,1===b)l=f[g];else break;if(1===b)return l}return f}function Q(b,a){for(var c=0,d,e;c<a.length;c++)if(a[c]){if(!1!==a[c].uo)for(e in d=a[c].uo(a[c].s,E(b,[a[c]])[a[c].s]),d)q(b,a,e,d[e],c,!0);if(a[c].c)Q(b,B(b,a[c],null,!0));else for(e in a[c].up)q(b,a,e,a[c].up[e](e,E(b,[a[c]],e)),c,!0)}}function R(b,
a,c,d){for(var e=r(n(c),1,2),f=0,h=[];f<a.length;f++)if(a[f])if(a[f].c&&R(b,B(b,a[f],null,!0),c,d),e){var g,k=a[f].e,l=k.parentRule?k.parentRule:k.parentStyleSheet;for(g=0;g<l.cssRules.length;g++)if(l.cssRules[g]===k){l.deleteRule(g);break}g=a[f].p?a[f].p:b[0];k=a[f].s;l=a[f];if(g&&g[k]){var m=l?g[k].e.indexOf(l):-1;l?0<=m&&(g[k].e.splice(m,1),0>=g[k].e.length&&delete g[k]):delete g[k]}}else h.push(a[f]),u||(a[f].e.style[c]=""),a[f].o[c]&&(7===n(a[f].o[c])&&R(b,a[f].o[c]),delete a[f].o[c]);d&&(d.e=
S(b,h))}function T(b,a,c,d,e){0>c&&(c+=ha(a).length);for(var f=0,h=0,g=[];f<a.length;f++)if(a[f]){if(c===h){g[f]=a[f];break}h++}return G(b,g,d,!1,e)}function S(b,a){for(var c=[],d=0;d<a.length;d++)a[d]&&c.push(u||a[d].e.placeholder?z(b,[a[d]],3):a[d].e);return c}function U(b,a,c,d){var e=n(a);if(8===e)K(b,a);else if(5===e){if(2===n(c))return b[a];b[a]=c}else{if(7===e){c={};for(d=0;d<a.length;d++)c[a[d]]=b[a[d]];return c}if(2===e)return b}return d}function G(b,a,c,d,e){function f(){if(1>a.length&&
!d&&5===n(c)){var f,k=[],l,m=e?e:[null];for(l=0;l<m.length;l++)(f=y(b,c,null,null,m[l]))&&k.push(f);a=k;h.e=S(b,a);h.selector=1===a.length?a[0].s:c}}var h=function(c){var d=0,e,g=[];for(f();d<a.length;d++)if(a[d]&&a[d].c){var h=P(a[d].c,c,!0);for(e=0;e<h.length;e++)g.push(h[e])}return G(b,g,c,null,a)};h.e=S(b,a);h.selector=1===a.length?a[0].s:c;L(h,{set:function(c,d){f();q(b,a,c,d);return h},get:function(c,d){return E(b,a,c,d)},update:function(){Q(b,a);return h},"delete":function(c){R(b,a,c,h);return h},
"export":function(c){return z(b,a,c)},parse:function(c){return J(b,a,c)},pos:function(d){return T(b,a,d,c,e)},first:function(){return T(b,a,0,c,e)},last:function(){return T(b,a,-1,c,e)}});return h}function V(){var b=[{},!1,[],{},{},{},[],{}],a=function(c){try{return P(b,c,!1,a)}catch(d){w("CSSC:"+d,b)}};L(a,{version:"1.0.0",init:function(c){c=7===n(c)?c:[c];for(var d=0;d<c.length;d++){var e=!1;var f=n(c[d],1);if(c[d]){c[d]=c[d].sheet||c[d];f=c[d].href||f;try{e=c[d].cssRules||e}catch(g){f+='" -> "'+
g}if(!e&&9===n(c[d])){if(c[d].e&&7===n(c[d].e)){e=c[d].e;var h="handler"}else"1.0.0"===c[d].version&&c[d].type===M?(e=c[d]().e,h="ID:"+c[d].conf().style_id):h=c[d].name;f=(e?"CSSC":f)+"["+h+"]"}}e&&0<e.length?ba(b,e,null):w("init:Can't init from \""+f+'"',b)}return a},"import":function(c){H(b,c,!1);return a},"export":function(a){return z(b,b[6],a)},parse:function(a){return J(b,b[6],a)},update:function(c){c?P(b,c).update():Q(b,b[6]);return a},"new":function(){return V()},alias:function(c,d){var e=
b[5],f=n(c),h;5===f&&(f={},f[c]=d,c=f,f=8);if(8===f)for(h in c)for(f=c[h],7!==n(f)&&(f=[f]),(h in e)||(e[h]=[]),d=0;d<f.length;d++)e[h].push(f[d]);return a},conf:function(c,d){return U(b[4],c,d,a)},vars:function(c,d){return U(b[3],c,d,a)},units:function(c,d){return U(b[7],c,d,a)},parseVars:function(a,d){return C(a,[,,,d?K({},b[3],d):b[3],b[4]])},objFromCss:function(a){return Y(a)},_conf:ca,type:M,type_export:ia,messages:X});return a.conf(ca)}var x=["@charset","@import","@namespace","@font-face"],
F=x.slice(0,3),X=[],da={Null:1,Undefined:2,Integer:3,Float:4,String:5,RegExp:6,Array:7,Object:8,Function:9},u=8===n(t),I={float:["cssFloat"]},K=9===n(Object.assign)?Object.assign:function(){var b,a,c=arguments;for(a=1;a<c.length;a++)for(b in c[a])c[0][b]=c[a][b];return c[0]},ea=9===n(Object.defineProperty)?Object.defineProperty:function(b,a,c){b[a]=c.value},ja=9===n(Object.preventExtensions),W=9===n(Object.freeze)?Object.freeze:function(b){var a={};L(a,b);b=a;ja&&Object.preventExtensions(b);return b},
ha=9===n(Object.keys)?Object.keys:function(b){var a=[],c;for(c in b)a.push(c);return a};n(Object.values);var M=W({rule:1,charset:2,"import":3,media:4,fontFace:5,page:6,keyframes:7,keyframe:8,namespace:10,counterStyle:11,supports:12,fontFeatureValues:14,viewport:15}),fa={css:1,min:2,obj:3,object:3,arr:4,array:4,objNMD:5},ia=W({css:"css",min:"min",obj:"obj",arr:"arr",object:"object",notMDObject:"objNMD",array:"array"}),ca=W({style_id:"cssc-style",view_err:!0,parse_tab:2,parse_unit_default:"px",parse_vars_limit:100});
if(u)t.exports=V();else return V()}("undefined"===typeof module?document:module);
