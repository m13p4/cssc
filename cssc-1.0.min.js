/* CSSC.js | @version 1.0b |  m13p4 */
var CSSC=function(t){function r(){for(var c=arguments,a=1;a<c.length;a++)if(c[0]===c[a])return!0;return!1}function w(c,a){a=a[4];c='"'+a.style_id+'"/'+c.replace(/^.+?:/,function(a){return(a+"     ").slice(0,8)});a.view_err&&console.log(c);X.push(c)}function n(c,a){var b=Object.prototype.toString.call(c).split(/ |\]/)[1];"Number"!==b||a||(b=Math.floor(c)===c?3:4);return a?b:fa[b]||b}function L(c,a){for(var b in a)ha(c,b,{enumerable:!0,value:a[b]})}function A(c,a,b){var d=n(c),f=5===d,e=f&&c.match(/^0x[0-9a-f\.\+]+$/i);
if(e||isFinite(c)){var h=b[7][a],g=c;2===n(h)&&(h=b[4].parse_unit_default||"px");h+="";e?(d=c.search(/\.|\+/),0>d?g=parseInt(c):(b=c.substr(d+1),g=parseInt(c.substr(0,d))+("+"===c.charAt(d)?parseFloat(b):parseInt(b,16)/Math.pow(16,b.length))),d=n(g)):f&&(g=parseFloat(c),d=n(g));e||/(^|-)color$/i.test(a)?(c=g,b=0,4===d&&(c=Math.floor(g),b=g-c),c=[(c&16711680)>>16,(c&65280)>>8,c&255].join(", "),c=0<b?"rgba("+c+", "+Math.floor(100*b)/100+")":"rgb("+c+")"):c=3===d?g+h:Math.floor(100*g)/100+h}else if(f&&
-1<c.indexOf(" ")){c=c.split(" ");for(d=0;d<c.length;d++)c[d]=A(c[d],a,b);c=c.join(" ")}else f&&"!"===c.charAt(c.length-1)&&(c=c.substr(0,c.length-1));return c}function Y(c){if(/^@(namespace|import|charset)/.test(c))return c.replace(/(^@.*\s+|\s*;\s*$)/g,"");var a=c.replace(/(^.*?{\s*|\s*}\s*$)/g,"");c=a.split(";");var b={};if(""!==a)for(a=0;a<c.length;a++)if(""!==c[a]){var d=c[a].split(":");b[d[0].trim()]=d.slice(1).join(":").trim()}return b}function Z(c){var a=c.split("-"),b;c=a[0];for(b=1;b<a.length;b++)c+=
a[b].charAt(0).toUpperCase()+a[b].substr(1);return c}function aa(c){c=c.trim();if("@"!==c.charAt(0))return 1;c=c.substr(1);var a=c.indexOf(" ");-1<a&&(c=c.substr(0,a));return M[Z(c)]||-1}function N(c,a){"@"===a.charAt(0)&&"@"===c.charAt(0)&&(a=a.substr(1));a="/"===a.charAt(0)?a.substr(1):","===a.charAt(0)?", "+a.substr(1).trim():" "+a.trim();if(0<=c.indexOf(",")||0<a.indexOf(",")){var b=c.split(","),d="",f=a.split(",");if(","!==a.charAt(0))for(c=0;c<b.length;c++)for(a=0;a<f.length;a++)d+=b[c]+f[a]+
", ";else d+=c+a+", ";return d.replace(/,+\s*$/,"")}return c+a}function C(c,a){c||(c="");for(var b=c.lastIndexOf("$"),d=0,f,e,h,g,k,l,m=a[4].parse_vars_limit||100,p=a[3]||{};0<=b&&d<m;){d++;f=null;g=c.substr(b+1);a=g.search(/[^\w\.]/);a=0>a?c.length:a+b;k=c.substr(b+1,a-b);l=k.split(".");for(e=0;e<l.length;e++)if(!(1>l[e].length)){h=n(f);if(0===e&&l[e]in p)f=p[l[e]];else if(r(h,7,8)&&l[e]in f)f=f[l[e]];else if(5===h&&l[e].match(/^[0-9]+$/))f=f.charAt(l[e]);else{f="$"+k;break}if(9===n(f)){if("("===
c.charAt(a+1)){a++;h=g=a;do h=c.indexOf("(",h+1),a=c.indexOf(")",a+1);while(-1<h&&h<a);0>a&&(a=c.length);g=c.substr(g+1,a-g-1);g=g.trim().split(/\s*,\s*/);f=f.apply(null,g)}else f=f();if("."===c.charAt(a+1))for(a++,h=a,g=c.substr(a+1),a=g.search(/[^\w\.]/),g=g.substr(0,0>a?g.length:a),a=0>a?c.length:a+h,k=c.substr(b+1,a-b),g=g.split("."),h=0;h<g.length;h++)l.push(g[h])}}c=c.substr(0,b)+f+c.substr(a+1);a="$"+k===f?b:a+(f.length-1);if(0>--a)break;b=c.lastIndexOf("$",a)}return c}function ba(c,a,b){for(var d=
0;d<a.length;d++)!u&&a[d]&&a[d].parentStyleSheet&&a[d].parentStyleSheet.ownerNode&&a[d].parentStyleSheet.ownerNode.id!==c[4].style_id&&O(c,a[d],b)}function O(c,a,b,d,f){var e=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),h=a.type,g=b?b.c:c[0],k=r(h,4,7,12);if(!r(h,1,5,4,7,8,6,12,10,3,2))return w('index:Unsuported "'+e+'" ['+h+"]",c);r(h,10,3,2)&&(d=e=10===h?F[2]:3===h?F[1]:F[0]);var l={n:0,_s:d||e,s:e,e:a,t:h,p:b||!1,o:{},c:k?{}:!1,oc:{},io:!1,uo:!1,up:{}};k&&!f?ba(c,a.cssRules,l):k||(l.o=Y(a.cssText));
a=c[2].push(l)-1;l.n=a;b||(c[6][a]=l);f=[[e,g]];k=0;var m=d!==e;m&&f.push([d,g]);b&&f.push([b.s+" >> "+e,c[0]]);b&&b.s!==b._s&&m&&f.push([b._s+" >> "+d,c[0]]);for(b&&b.s!==b._s&&f.push([b._s+" >> "+e,c[0]]);k<f.length;k++)f[k][1][f[k][0]]?f[k][1][f[k][0]].e.push(a):f[k][1][f[k][0]]={t:h,e:[a]};return l}function y(c,a,b,d,f){var e="",h=!1;if(!f&&!c[1])if(u)c[1]=!0;else{var g=c[4].style_id;if(t.getElementById(g))for(var k=0;10>k;k++)if(!t.getElementById(g+"-"+k)){g=g+"-"+k;break}t.getElementById(g)?
w("create:can't create element.",c):(k=t.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("id",g),t.head.appendChild(k),c[1]=k,c[4].style_id=g)}g=f?f.e:c[1].sheet;if(b)if(k=n(b),8===k)for(var l in b)9===n(b[l])?(d=b[l](),e+=l+":"+A(d,l,c)+"; "):e+=l+":"+A(b[l],l,c)+"; ";else if(9===k)for(l in d=b(),d)e+=l+":"+A(d[l],l,c)+"; ";else e=b+":"+A(d,l,c)+";";e=a+" { "+e+" }";-1<F.indexOf(a)&&(e=a+" "+b);if(!u)try{var m=g.insertRule(e,g.cssRules.length);-1<m&&(h=O(c,g.cssRules[m],f,
a,!0))}catch(p){w('create:"'+(f?f.s+" >> ":"")+a+'" -> '+p,c)}return h||O(c,{cssText:e,type:aa(a),placeholder:!u,cssRules:{},style:{}},f,a,!0)}function D(c,a){7!==n(a)&&(a=[a]);c=c[2];for(var b=[],d=0;d<a.length;d++)c[a[d]]&&(b[a[d]]=c[a[d]]);return b}function B(c,a,b,d){var f=n(b),e=!a;a=e?c[0]:a.c;var h=[];if(5===f)b=C(b,c),a[b]&&(h=a[b].e);else if(6===f)for(var g in a){if(b.test(g))for(f=0;f<a[g].e.length;f++)h.push(a[g].e[f])}else if(7===f)for(f=0;f<b.length;f++){if(e=C(b[f],c),a[e])for(g=0;g<
a[e].e.length;g++)h.push(a[e].e[g])}else if(r(f,1,2)){if(e)return d?c[6]:G(c,c[6]);for(g in a)for(f=0;f<a[g].e.length;f++)h.push(a[g].e[f])}h=D(c,h);return d?h:G(c,h,b)}function P(c,a,b,d){var f=n(a);if(r(f,5,6,7,1,2))return B(c,!1,a,b);H(c,a,!1);return d}function H(c,a,b,d){var f,e,h={},g=/^@(media|keyframes|supports)/;7!==n(a)&&(a=[a]);if(!d&&!b){var k=!1;for(e=0;e<x.length;e++)for(f=0;f<a.length;f++)if(x[e]in a[f]){k=!0;d=h[x[e]];var l=a[f][x[e]];l=7===n(l)?l:[l];h[x[e]]=d?d.concat(l):l}k&&H(c,
h,b,k)}for(f=0;f<a.length;f++)for(m in d=a[f],d)if(!(m in h)){l=7===n(d[m])?d[m]:[d[m]];var m=C(m,c);for(e=0;e<l.length;e++)if("@"===m.charAt(0))if(-1<x.indexOf(m))y(c,m,l[e],null,b);else if(b&&r(b.t,4,7,12)||g.test(m)){var p=m;(k=b)&&!m.match(g)&&(m=N(b._s,m),k=b.p);k=y(c,m,null,null,k);H(c,l[e],k,!1,!0);b&&(k.io=!0,b.o[p]||(b.o[p]=[]),b.o[p].push(k.n))}else w('import:Unsuported "'+m+'" ['+aa(m)+"]",c);else r(n(l[e]),5,4,3)?(k=b?b.c:c[0],k["*"]||y(c,"*",null,null,b),q(c,D(c,k["*"].e),m,l[e])):(k=
y(c,m,null,null,b))&&q(c,[k],l[e])}}function q(c,a,b,d,f,e){if(a[f]){if(r(a[f].t,2,3,10,5))return w('set:Readonly rule "'+a[f].s+'" ['+a[f].t+"]",c);b=C(b,c);if(a[f].c)q(c,B(c,a[f],null,!0),b,d,!1,e);else{var h=n(d),g;if("!"===b.charAt(0))switch(b=b.toLowerCase(),b){case "extend":q(c,[a[f]],d)}else if(r(h,8,7)){var k="@"===b.charAt(0);var l=8===h?[d]:d,m=N(a[f].s,b);!e&&k&&(m=a[f].p?N(a[f].p.s,b):b);for(g=0;g<l.length;g++)e&&7===n(a[f].o[b])?q(c,D(c,a[f].o[b]),l[g],!1,!1,e):(d=y(c,m,null,null,k?!1:
a[f].p),!e&&d&&(k&&(h=d,(d=y(c,a[f].s,null,null,d))||(d=h)),q(c,[d],l[g],!1,!1,e),k&&a[f].p&&(h=a[f].p,7!==n(h.o[b])&&(h.o[b]=[]),h.o[b].push(d.p.n)),d.io=!0,7!==n(a[f].o[b])&&(a[f].o[b]=[]),a[f].o[b].push(d.n)))}else if(9===h)try{k=d(b,E(c,[a[f]],b)),q(c,a,b,k,f,e),e||(a[f].up[b]=d)}catch(p){w("set:"+p,c)}else{k=A(d,b,c);if(b in c[5])for(h=0;h<c[5][b].length;h++)q(c,a,c[5][b][h],d,f,e);if(!u){if(b in I)for(h=0;h<I[b].length;h++){if(I[b][h]in a[f].e.style){g=I[b][h];break}}else g=Z(b);g!==b&&(a[f].e.style[g]=
k);a[f].e.style[b]=k}a[f].o[b]=k}}}else for(g=0,k=n(b);g<a.length;g++)if(a[g])if(8===k)for(h in b)q(c,a,h,b[h],g,e);else if(9===k){f=b(a[g].s,E(c,[a[g]])[a[g].s]);for(h in f)q(c,a,h,f[h],g,e);e||(a[g].uo=b)}else q(c,a,b,d,g,e)}function E(c,a,b,d){if(!b)return z(c,a,3);for(var f=d?[]:"",e,h=0;h<a.length;h++)a[h]&&(e="",a[h].o[b]&&(e=a[h].o[b],7===n(e)&&(e=z(c,D(c,e),3))),u||(e||(e=a[h].e.style[b]),e||(e=(e=a[h].e.cssText.match(new RegExp(b+"s*:s*(.+?);")))?e[1].trim():"")),e&&(d?f.push(e):f=e));return f}
function J(c,a,b,d,f,e){d||(d=[]);var h=":",g=";",k="{",l="}";b?f=e="":(e||(e=c[4].parse_tab,k=n(e),r(k,5,3,4)||(e=2,k=n(e)),4===k&&(e=Math.floor(e)),5!==k&&(e=Array(e+1).join(" "))),f=f||"",k=" {\n",h+=" ",g+="\n",l+="\n");for(var m=0,p="",q="",u="",w="",x="",t,v;m<a.length;m++)if(a[m]&&0>d.indexOf(m)){if(r(a[m].t,2,3,10))v=f+a[m]._s+" "+a[m].o+g,2===a[m].t?q+=v:3===a[m].t?u+=v:w+=v;else{v="";for(t in a[m].o)7!==n(a[m].o[t])&&(v+=f+e+t+h+a[m].o[t]+g);a[m].c&&(v+=J(c,B(c,a[m],null,!0),b,d,f+e,e));
0<v.length&&(t=a[m]._s,v=f+t+k+v+f+l,5===a[m].t?x+=v:p+=v)}d.push(m)}return q+u+w+x+p}function z(c,a,b,d,f){3!==n(b)&&(b=ia[b]||3);if(r(b,1,2))return J(c,a,2===b);d||(d=[]);for(var e=4===b?[]:{},h,g=0,k,l,m={},p;g<a.length;g++)if(a[g]&&0>d.indexOf(g)){h={};if(r(a[g].t,2,3,10))h=a[g].o,p=!0;else for(k in p=!1,a[g].o)7===n(a[g].o[k])?3===b&&(h[k]=z(c,D(c,a[g].o[k]),b,d,!0),p=!0):(h[k]=a[g].o[k]+(isFinite(a[g].o[k])?"!":""),p=!0);a[g].c&&(l=B(c,a[g],null,!0),0<l.length&&(h=K(z(c,l,b,d,!1),h),p=!0));
p&&(4===b?(l={},l[a[g]._s]=h,e.push(l)):(l=0>x.indexOf(a[g].s)?e:m,l[a[g]._s]?(7!==n(l[a[g]._s])&&(l[a[g]._s]=[l[a[g]._s]]),l[a[g]._s].push(h)):l[a[g]._s]=h));d.push(g)}if(4===b)return e;e=K(m,e);if(f){l=!1;c=0;for(g in e)if(c++,1===c)l=e[g];else break;if(1===c)return l}return e}function Q(c,a){for(var b=0,d,f;b<a.length;b++)if(a[b]){if(!1!==a[b].uo)for(f in d=a[b].uo(a[b].s,E(c,[a[b]])[a[b].s]),d)q(c,a,f,d[f],b,!0);if(a[b].c)Q(c,B(c,a[b],null,!0));else for(f in a[b].up)q(c,a,f,a[b].up[f](f,E(c,[a[b]],
f)),b,!0)}}function R(c,a,b,d){for(var f=r(n(b),1,2),e=0,h=[];e<a.length;e++)if(a[e])if(a[e].c&&R(c,B(c,a[e],null,!0),b,d),f){var g,k=a[e].e,l=k.parentRule?k.parentRule:k.parentStyleSheet;for(g=0;g<l.cssRules.length;g++)if(l.cssRules[g]===k){l.deleteRule(g);break}g=a[e].p?a[e].p:c[0];k=a[e].s;l=a[e];if(g&&g[k]){var m=l?g[k].e.indexOf(l):-1;l?0<=m&&(g[k].e.splice(m,1),0>=g[k].e.length&&delete g[k]):delete g[k]}}else h.push(a[e]),u||(a[e].e.style[b]=""),a[e].o[b]&&(7===n(a[e].o[b])&&R(c,a[e].o[b]),
delete a[e].o[b]);d&&(d.e=S(c,h))}function T(c,a,b,d,f){0>b&&(b+=ca(a).length);for(var e=0,h=0,g=[];e<a.length;e++)if(a[e]){if(b===h){g[e]=a[e];break}h++}return G(c,g,d,f)}function S(c,a){for(var b=[],d=0;d<a.length;d++)a[d]&&b.push(u||a[d].e.placeholder?z(c,[a[d]],3):a[d].e);return b}function da(c,a){var b=ca(c);return 1===b.length?c[b[0]].s:a}function U(c,a,b,d){var f=n(a);if(8===f)K(c,a);else if(5===f){if(2===n(b))return c[a];c[a]=b}else{if(7===f){b={};for(d=0;d<a.length;d++)b[a[d]]=c[a[d]];return b}if(2===
f)return c}return d}function G(c,a,b,d){function f(){if(1>a.length&&5===n(b)){var f,g=[],k,l=d?d:[null];for(k=0;k<l.length;k++)(f=y(c,b,null,null,l[k]))&&g.push(f);a=g;e.e=S(c,a);e.selector=da(a,b)}}var e=function(b){var d=0,e,h=[];for(f();d<a.length;d++)if(a[d]&&a[d].c){var m=P(a[d].c,b,!0);for(e=0;e<m.length;e++)h.push(m[e])}return G(c,h,b,a)};e.e=S(c,a);e.selector=da(a,b);L(e,{set:function(b,d){f();q(c,a,b,d);return e},get:function(b,d){return E(c,a,b,d)},update:function(){Q(c,a);return e},"delete":function(b){R(c,
a,b,e);return e},"export":function(b){return z(c,a,b)},parse:function(b){return J(c,a,b)},pos:function(e){return T(c,a,e,b,d)},first:function(){return T(c,a,0,b,d)},last:function(){return T(c,a,-1,b,d)}});return e}function V(){var c=[{},!1,[],{},{},{},[],{}],a=function(b){if(this&&this.constructor===a)return V();try{return P(c,b,!1,a)}catch(d){w("CSSC:"+d,c)}};L(a,{version:"1.0.0",init:function(b){b=7===n(b)?b:[b];for(var d=0;d<b.length;d++){var f=!1;var e=n(b[d],1);if(b[d]){b[d]=b[d].sheet||b[d];
e=b[d].href||e;try{f=b[d].cssRules||f}catch(g){e+='" -> "'+g}if(!f&&9===n(b[d])){if(b[d].e&&7===n(b[d].e)){f=b[d].e;var h="handler"}else"1.0.0"===b[d].version&&b[d].type===M?(f=b[d]().e,h="ID:"+b[d].conf().style_id):h=b[d].name;e=(f?"CSSC":e)+"["+h+"]"}}f&&0<f.length?ba(c,f,null):w("init:Can't init from \""+e+'"',c)}return a},"import":function(b){H(c,b,!1);return a},"export":function(a){return z(c,c[6],a)},parse:function(a){return J(c,c[6],a)},update:function(b){b?P(c,b).update():Q(c,c[6]);return a},
alias:function(b,d){var f=c[5],e=n(b),h;5===e&&(e={},e[b]=d,b=e,e=8);if(8===e)for(h in b)for(e=b[h],7!==n(e)&&(e=[e]),(h in f)||(f[h]=[]),d=0;d<e.length;d++)f[h].push(e[d]);return a},conf:function(b,d){return U(c[4],b,d,a)},vars:function(b,d){return U(c[3],b,d,a)},units:function(b,d){return U(c[7],b,d,a)},parseVars:function(a,d){return C(a,[,,,d?K({},c[3],d):c[3],c[4]])},objFromCss:function(a){return Y(a)},_conf:ea,type:M,type_export:ja,messages:X});return a.conf(ea)}var x=["@charset","@import","@namespace",
"@font-face"],F=x.slice(0,3),X=[],fa={Null:1,Undefined:2,Integer:3,Float:4,String:5,RegExp:6,Array:7,Object:8,Function:9},u=8===n(t),I={float:["cssFloat"]},K=9===n(Object.assign)?Object.assign:function(){var c,a,b=arguments;for(a=1;a<b.length;a++)for(c in b[a])b[0][c]=b[a][c];return b[0]},ha=9===n(Object.defineProperty)?Object.defineProperty:function(c,a,b){c[a]=b.value},ka=9===n(Object.preventExtensions),W=9===n(Object.freeze)?Object.freeze:function(c){var a={};L(a,c);c=a;ka&&Object.preventExtensions(c);
return c},ca=9===n(Object.keys)?Object.keys:function(c){var a=[],b;for(b in c)a.push(b);return a};n(Object.values);var M=W({rule:1,charset:2,"import":3,media:4,fontFace:5,page:6,keyframes:7,keyframe:8,namespace:10,counterStyle:11,supports:12,fontFeatureValues:14,viewport:15}),ia={css:1,min:2,obj:3,object:3,arr:4,array:4,objNMD:5},ja=W({css:"css",min:"min",obj:"obj",arr:"arr",object:"object",notMDObject:"objNMD",array:"array"}),ea=W({style_id:"cssc-style",view_err:!0,parse_tab:2,parse_unit_default:"px",
parse_vars_limit:100});if(u)t.exports=V();else return V()}("undefined"===typeof module?document:module);
