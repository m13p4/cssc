/*
@version 1.0b
@author m13p4
@copyright Meliantchenkov Pavel
*/
var CSSC=function(){var x;return function(m,L){var t={},y=!1,e=null,p=function(a,b){return b?Object.prototype.toString.call(a):Object.prototype.toString.call(a).replace(/(^\[.+\s|\]$)/g,"")},z=function(a,b,l){var h="",c;b=b||"";for(c in a){var d=p(a[c]);if("Object"===d){var f=z(a[c],b+"    ",l);""!==f&&(h=l===e.export.type.min?h+(c+"{"+f+"}"):h+(b+c+" {\n"+f+b+"}\n"))}else if("Array"===d)for(d=0;d<a[c].length;d++)f=z(a[c][d],b+"    ",l),""!==f&&(h=l===e.export.type.min?h+(c+"{"+f+"}"):h+(b+c+" {\n"+
f+b+"}\n"));else h=l===e.export.type.min?h+(c+":"+a[c]+";"):h+((4>b.length?"    ":b)+c+": "+a[c]+";\n")}return h},A=function(a,b){return(a=a.match(new RegExp(b+"s*:s*(.+?);")))?a[1].trim():""},G=function(a){a=a.trim();if("@"!==a.charAt(0))return e.type.rule;a=a.substr(1);var b=a.indexOf(" ");0<=b&&(a=a.substr(0,b));b=a;if(0<=a.indexOf("-")){a=a.split("-");var l;b=a[0];for(l=1;l<a.length;l++)b+=a[l].charAt(0).toUpperCase()+a[l].substr(1)}return b in e.type?e.type[b]:-1},H=function(a,b){"@"===b.charAt(0)&&
"@"===a.charAt(0)&&(b=b.substr(1));b="/"===b.charAt(0)?b.substr(1):","===b.charAt(0)?", "+b.substr(1).trim():" "+b;if(","!==b.charAt(0)&&(0<=a.indexOf(",")||0<b.indexOf(","))){a=a.split(",");var e="",h=b.split(","),c;for(b=0;b<a.length;b++)for(c=0;c<h.length;c++)e+=a[b]+h[c]+", ";return e.replace(/,+\s*$/,"")}return a+b},C=function(){if(!y){if("cssRules"in m){var a=(m.ownerNode.getAttribute("data-cssc-ignore")||"").toLowerCase();if("true"!==a&&"1"!==a)try{B(m.cssRules,null)}catch(l){e.conf.viewErr&&
console.log('Cannot init CSS from "'+m.href+'"'),e.messages.push('Cannot init CSS from "'+m.href+'"')}}else if("length"in m)for(var b=0;b<m.length;b++)if(a=(m[b].ownerNode.getAttribute("data-cssc-ignore")||"").toLowerCase(),"true"!==a&&"1"!==a)try{B(m[b].cssRules,null)}catch(l){e.conf.viewErr&&console.log('Cannot init CSS from "'+m[b].href+'"'),e.messages.push('Cannot init CSS from "'+m[b].href+'"')}y=!0}},B=function(a,b){for(var l=0;l<a.length;l++){var h=a[l];h&&h.parentStyleSheet&&h.parentStyleSheet.ownerNode&&
h.parentStyleSheet.ownerNode.id===e.conf.styleId||D(a[l],b)}},D=function(a,b,l){var h=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),c=a.type,d=b?b.children:t;if(c!==e.type.rule&&c!==e.type.fontFace&&c!==e.type.media&&c!==e.type.keyframes&&c!==e.type.keyframe&&c!==e.type.page&&c!==e.type.supports)console.log("unsuported type: ["+c+"] - "+e.type.names[c]);else{a._update=!1;c===e.type.rule&&(a.style._update={});b={indexElem:a,selector:h,csscSelector:l?l:h,children:!1,parent:b?b:!1,events:{},obj:{},
type:c};d[h]?(d[h].content[0].indexElem===a&&(console.log('Dublicate "'+h+'": '),console.log(Error().stack+"\n\n")),b=d[h].content.push(b)-1):(d[h]={type:c,content:[b],events:{}},b=0);if(c===e.type.media||c===e.type.keyframes||c===e.type.supports)d[h].content[b].children={},B(a.cssRules,d[h].content[b]);else{c=d[h].content[b];l=a.cssText.replace(/(^.*?{\s*|\s*}\s*$)/g,"");a=l.split(";");b={};if(""!==l)for(l=0;l<a.length;l++)if(""!==a[l]){var f=a[l].split(":");b[f[0].trim()]=f.slice(1).join(":").trim()}c.obj=
b}return d[h]}},u=function(a,b,l,h){var c;if(!h&&!x){if(document.getElementById(e.conf.styleId)){for(c=0;10>c;c++)if(!document.getElementById(e.conf.styleId+"-"+c)){e.conf.styleId=e.conf.styleId+"-"+c;break}if(document.getElementById(e.conf.styleId))throw Error("cann not create new element..");}c=document.createElement("style");c.setAttribute("type","text/css");c.setAttribute("id",e.conf.styleId);c.appendChild(document.createTextNode(""));document.head.appendChild(c);x=c}c=h?h.indexElem:x.sheet;var d=
c.cssRules.length,f="";if(b){var g=p(b);if("Object"===g)for(var r in b)"Function"===p(b[r])?(l=b[r](),f+=r+":"+l+"; "):f+=r+":"+b[r]+"; ";else if("Function"===g)for(r in l=b(),l)f+=r+":"+l[r]+"; ";else f=b+":"+l+";"}try{return"insertRule"in c?c.insertRule(a+"{"+f+"}",d):"appendRule"in c?c.appendRule(a+"{"+f+"}",d):"addRule"in c&&c.addRule(a,f,d),D(c.cssRules[d],h,a)}catch(I){e.conf.viewErr&&console.log('"'+a+'" -> '+I),e.messages.push('"'+a+'" -> '+I)}return!1},J=function(a,b){y||C();b=b?b:t;return b[a]?
b[a]:null},v=function(a,b,e){b=b?b:t;var h=p(a);if("String"===h)return b=J(a,b),e?b?b.content:[]:q(b?b.content:[],a);if("RegExp"===h){h=[];for(var c in b)if(c.match(a))for(d=0;d<b[c].content.length;d++)h.push(b[c].content[d]);return e?h:q(h,a)}if("Array"===h){h=[];var d;for(d=0;d<a.length;d++){var f=J(a[d],b);if(null!==f)for(c=0;c<f.content.length;c++)h.push(f.content[c])}return e?h:q(h,a)}if("Null"===h||"Undefined"===h){h=[];for(c in b)for(d=0;d<b[c].content.length;d++)h.push(b[c].content[d]);return e?
h:q(h,a)}return null},F=function(a,b,e,h){var c=p(a);if("String"===c||"RegExp"===c||"Array"===c||"Null"===c||"Undefined"===c)return a=v(a,e,h),b?a.has(b):a;E(a,null,e)},E=function(a,b){var l;for(f in a){var h="Array"===p(a[f])?a[f]:[a[f]];for(l=0;l<h.length;l++)if("@"===f.charAt(0))if("@font-face"===f)u(f,h[l],null,b);else{if(f.match(/^@(media|keyframes|supports)/)||b&&(b.type===e.type.media||b.type===e.type.keyframes||b.type===e.type.supports)){var c=b;var d=f;if(b&&-1===G(f)){var f=H(b.csscSelector,
f);c=b.parent}var g=f;g=g.trim();g=0>=g.length||("@"===g.charAt(0)?g.match(/(^@(media|keyframes|supports)|and|or|not|only|[<|>,:\-#'+~`\u00b4}\[{\\!"\u00a7%&/(=?@])\s*$/):g.match(/[<|>,:\-#'+~`\u00b4}\]\[{\\!"\u00a7%&/()=?@]\s*$/))?!1:u(f,null,null,c);g||(c={csscSelector:f,cssText:f+" {}",parent:c||!1,type:G(f),cssRules:{}},g=D(c,c.parent,f));E(h[l],g.content[g.content.length-1]);b&&(b.obj[d]||(b.obj[d]=[]),b.obj[d].push(g.content[g.content.length-1]))}}else if(g=u(f,null,null,b))d=q([g.content[g.content.length-
1]],f),d.set(h[l])}},q=function(a,b,l,h){var c=function(b,f){var a,d,e=[];for(a=0;a<c.e.length;a++)if(c.e[a].children){var k=F(b,f,c.e[a].children,!0);for(d=0;d<k.length;d++)e.push(k[d])}return q(e,b,null,c.e)};c.e=a;c.eLength=a.length;c.set=function(a,f,g){if("number"===typeof g){if(this.e[g].indexElem.type===e.type.fontFace)return e.conf.viewErr&&console.log('Element of Type "'+e.type.names[this.e[g].indexElem.type]+'" is readonly.'),e.messages.push('Element of Type "'+e.type.names[this.e[g].indexElem.type]+
'" is readonly.'),this;if(this.e[g].children)v(null,this.e[g].children).set(a,f);else{var c=p(f);if("Object"===c||"Array"===c){var d=H(this.e[g].selector,a);f="Object"===c?[f]:f;var k;for(k=0;k<f.length;k++)if(c=u(d,null,null,this.e[g].parent))q([c.content[c.content.length-1]],n).set(f[k]),this.e[g].obj[a]&&"push"in this.e[g].obj[a]||(this.e[g].obj[a]=[]),this.e[g].obj[a].push(c.content[c.content.length-1])}else if("Function"===c){var n=this.pos(g).get(a);try{k=f(n),this.set(a,k,g),this.e[g].indexElem.style._update[a]=
f}catch(K){e.conf.viewErr&&console.log(K),e.messages.push(K)}}else{if(isFinite(f))f=0===f%1?f+"px":Math.floor(100*f)/100+"px";else if("String"===p(f)&&(k=f.split(" "),0<k.length)){for(n=0;n<k.length;n++)isFinite(k[n])&&(f=k[n],k[n]=0===f%1?f+"px":Math.floor(100*f)/100+"px");f=k.join(" ")}this.e[g].indexElem.style[a]=f;this.e[g].obj[a]=f}}}else{var w;g=p(a);"Object"===g?d=Object.keys(a).length:"Function"===g&&(w=a());if(0>=this.e.length&&!l&&"String"===p(b)){var m=[];if(h)for(m=[],k=0;k<h.length;k++){if(c=
u(b,null,null,h[k].indexElem,h[k].children))for(n=0;n<c.content.length;n++)m.push(c.content[n])}else if(c=u(b,null,null))m=c.content;this.e=m;this.eLength=m.length}if("Array"===g||"Function"===g&&"Array"===p(w))for(g="Array"===g?a:w,k=0;k<g.length;k++)if(a=this.pos(k),1===a.e.length)a.set(g[k]);else break;else for(k=0;k<this.e.length;k++)if("Object"===g&&0<d)for(n in a)this.set(n,a[n],k);else if("Function"===g){for(n in w)this.set(n,w[n],k);this.e[k].indexElem._update=a}else this.set(a,f,k)}return this};
c.get=function(a,b){if(!a){a=this.export(e.export.type.object);for(f in a){if(c)return a;var c=f}return a[c]}var f=[];c="";var d;b=!!b;for(d=0;d<this.e.length;d++){var k="";this.e[d].obj[a]&&!this.e[d].obj[a].selector&&(k=this.e[d].obj[a]);k&&""!==k||(k=this.e[d].indexElem.style[a]);k&&""!==k||(k=A(this.e[d].indexElem.cssText,a));k&&(c=k,b&&f.push(c))}return b?f:c};c.has=function(a){var c=[];var g=p(a);if("String"===g){var d=a.split(":");for(g=0;g<this.e.length;g++){var e=A(this.e[g].indexElem.cssText,
d[0]);""!==e&&(!d[1]||d[1]&&d[1].replace(/ |;/g,"")===e)&&c.push(this.e[g])}}else if("Array"===g)for(var k=0;k<a.length;k++)for(d=a[k].split(":"),g=0;g<this.e.length;g++)e=A(this.e[g].indexElem.cssText,d[0]),""!==e&&(!d[1]||d[1]&&d[1].replace(/ |;/g,"")===e)&&c.push(this.e[g]);else if("RegExp"===g)for(g=0;g<this.e.length;g++)if(d=this.e[g].indexElem.cssText.match(/[\S]+:.+?;/g))for(k=0;k<d.length;k++)(e=d[k].match(a))&&c.push(this.e[g]);return q(c,b,!0)};c.update=function(){var a,b;for(a=0;a<this.e.length;a++){if(!1!==
this.e[a].indexElem._update){var c=this.e[a].indexElem._update();for(b in c)this.set(b,c[b],a)}if(this.e[a].children)v(null,this.e[a].children).update();else for(b in this.e[a].indexElem.style._update)c=this.e[a].indexElem.style._update[b](),this.set(b,c,a)}return this};c.delete=function(a){var c;if("undefined"===typeof a)for(c=0;c<this.e.length;c++){this.e[c].indexElem.parentRule?this.e[c].indexElem.parentRule.deleteRule(this.e[c]):this.e[c].indexElem.parentStyleSheet.deleteRule(this.e[c]);var g=
this.e[c].parent?this.e[c].parent:null;g=g?g:t;g[b]&&delete g[b];this.e[c].children&&(g=v(null,this.e[c].children),g.delete(a))}else for(c=0;c<this.e.length;c++)this.e[c].indexElem.style[a]="",this.e[c].children&&(g=v(null,this.e[c].children),g.delete(a));return this};c.export=function(a,c){var b={},f,d,k,h=a;a===e.export.type.obj&&(a=e.export.type.object);if(a===e.export.type.normal||a===e.export.type.min)a=e.export.type.notMDObject;c||(c=[]);for(d=0;d<this.e.length;d++)if(!(0<=c.indexOf(this.e[d]))){var l=
Object.assign({},this.e[d].obj);for(k in this.e[d].obj)if("object"===typeof this.e[d].obj[k]&&"length"in this.e[d].obj[k])if(a===e.export.type.notMDObject)l[k]=null,delete l[k];else{l[k]=[];for(f=0;f<this.e[d].obj[k].length;f++){var m=q([this.e[d].obj[k][f]]);l[k][f]=m.export(a,c)[this.e[d].obj[k][f].selector];c.push(this.e[d].obj[k][f])}1===l[k].length&&(l[k]=l[k][0])}this.e[d].children?(f=v(null,this.e[d].children),b[this.e[d].selector]?("length"in b[this.e[d].selector]||(b[this.e[d].selector]=
[b[this.e[d].selector]]),b[this.e[d].selector].push(Object.assign(l,f.export(a,c)))):b[this.e[d].selector]=Object.assign(l,f.export(a,c))):b[this.e[d].selector]?("length"in b[this.e[d].selector]||(b[this.e[d].selector]=[b[this.e[d].selector]]),b[this.e[d].selector].push(l)):b[this.e[d].selector]=l}return h===e.export.type.normal||h===e.export.type.min?z(b,null,h):b};c.pos=function(a){return q(this.e[a]?[this.e[a]]:[])};c.first=function(){return this.pos(0)};c.last=function(){return this.pos(this.e.length-
1)};return c};e=function(a,b){try{return F(a,b)}catch(l){e.conf.viewErr&&console.log(l),e.messages.push(l)}};e.import=function(a){try{return E(a)}catch(b){e.conf.viewErr&&console.log(b),e.messages.push(b)}};e.export=function(a){return F().export(a)};e.update=function(a){if(a)a=e(a),a.update();else for(var b in t)a=q(t[b].content),a.update()};e.type={rule:1,charset:2,"import":3,media:4,fontFace:5,page:6,keyframes:7,keyframe:8,namespace:10,counterStyle:11,supports:12,fontFeatureValues:14,names:{1:"rule",
2:"charset",3:"import",4:"media",5:"font-face",6:"page",7:"keyframes",8:"keyframe",10:"namespace",11:"counter-style",12:"supports",14:"font-feature-values"}};e.events={beforeChange:"beforechange",change:"change",beforeSet:"beforeset",set:"set",beforeCreate:"beforecreate",create:"create",beforeDelete:"beforedelete","delete":"delete",beforeDestroy:"beforedestroy",destroy:"destroy"};e.export.type={normal:"css",min:"minCss",obj:"obj",object:"object",notMDObject:"objNMDO"};e.conf={styleId:"cssc-style",
viewErr:!0};e.messages=[];L?C():window.addEventListener("load",function(){C()});return e}(document.styleSheets,!0)}();
