/* CSSC.js | @version 1.0b |  m13p4 */
var CSSC=function(w){function r(){for(var b=arguments,a=1;a<b.length;a++)if(b[0]===b[a])return!0;return!1}function u(b,a){a=a[4];b='"'+a.style_id+'"/'+b.replace(/^.+?:/,function(a){return(a+"     ").slice(0,8)});a.view_err&&console.log(b);V.push(b)}function n(b,a){var c=Object.prototype.toString.call(b).split(/ |\]/)[1];"Number"!==c||a||(c=Math.floor(b)===b?3:4);return a?c:ca[c]||c}function K(b,a){for(var c in a)da(b,c,{enumerable:!0,value:a[c]})}function z(b,a,c){var e=n(b),d=5===e,f=d&&b.match(/^0x[0-9a-f\.\+]+$/i);
if(f||isFinite(b)){c=(c[4].parse_unit_default||"px")+"";var g=b;f?(e=b.search(/\.|\+/),0>e?g=parseInt(b):(d=b.substr(e+1),g=parseInt(b.substr(0,e))+("+"===b.charAt(e)?parseFloat(d):parseInt(d,16)/Math.pow(16,d.length))),e=n(g)):d&&(g=parseFloat(b),e=n(g));f||/(^|-)color$/i.test(a)?(b=g,d=0,4===e&&(b=Math.floor(g),d=g-b),b=[(b&16711680)>>16,(b&65280)>>8,b&255].join(", "),b=0<d?"rgba("+b+", "+Math.floor(100*d)/100+")":"rgb("+b+")"):b=3===e?g+c:Math.floor(100*g)/100+c}else if(d&&-1<b.indexOf(" ")){b=
b.split(" ");for(e=0;e<b.length;e++)b[e]=z(b[e],a,c);b=b.join(" ")}else d&&"!"===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1));return b}function W(b){if(/^@(namespace|import|charset)/.test(b))return b.replace(/(^@.*\s+|\s*;\s*$)/g,"");var a=b.replace(/(^.*?{\s*|\s*}\s*$)/g,"");b=a.split(";");var c={};if(""!==a)for(a=0;a<b.length;a++)if(""!==b[a]){var e=b[a].split(":");c[e[0].trim()]=e.slice(1).join(":").trim()}return c}function X(b){var a=b.split("-"),c;b=a[0];for(c=1;c<a.length;c++)b+=a[c].charAt(0).toUpperCase()+
a[c].substr(1);return b}function Y(b){b=b.trim();if("@"!==b.charAt(0))return 1;b=b.substr(1);var a=b.indexOf(" ");-1<a&&(b=b.substr(0,a));return L[X(b)]||-1}function M(b,a){"@"===a.charAt(0)&&"@"===b.charAt(0)&&(a=a.substr(1));a="/"===a.charAt(0)?a.substr(1):","===a.charAt(0)?", "+a.substr(1).trim():" "+a;if(0<=b.indexOf(",")||0<a.indexOf(",")){b=b.split(",");var c,e="",d=a.split(",");if(","!==a.charAt(0))for(c=0;c<b.length;c++)for(a=0;a<d.length;a++)e+=b[c]+d[a]+", ";else for(c=0;c<b.length;c++)e+=
b[c]+a+", ";return e.replace(/,+\s*$/,"")}return b+a}function B(b,a){b||(b="");for(var c=b.lastIndexOf("$"),e=0,d,f,g,h,k,l,m=a[4].parse_vars_limit||100,p=a[3]||{};0<=c&&e<m;){e++;d=null;h=b.substr(c+1);a=h.search(/[^\w\.]/);a=0>a?b.length:a+c;k=b.substr(c+1,a-c);l=k.split(".");for(f=0;f<l.length;f++)if(!(1>l[f].length)){g=n(d);if(0===f&&l[f]in p)d=p[l[f]];else if(r(g,7,8)&&l[f]in d)d=d[l[f]];else if(5===g&&l[f].match(/^[0-9]+$/))d=d.charAt(l[f]);else{d="$"+k;break}if(9===n(d)){if("("===b.charAt(a+
1)){a++;g=h=a;do g=b.indexOf("(",g+1),a=b.indexOf(")",a+1);while(-1<g&&g<a);0>a&&(a=b.length);h=b.substr(h+1,a-h-1);h=h.trim().split(/\s*,\s*/);d=d.apply(null,h)}else d=d();if("."===b.charAt(a+1))for(a++,g=a,h=b.substr(a+1),a=h.search(/[^\w\.]/),h=h.substr(0,0>a?h.length:a),a=0>a?b.length:a+g,k=b.substr(c+1,a-c),h=h.split("."),g=0;g<h.length;g++)l.push(h[g])}}b=b.substr(0,c)+d+b.substr(a+1);a="$"+k===d?c:a+(d.length-1);if(0>--a)break;c=b.lastIndexOf("$",a)}return b}function Z(b,a,c){for(var e=0;e<
a.length;e++)!t&&a[e]&&a[e].parentStyleSheet&&a[e].parentStyleSheet.ownerNode&&a[e].parentStyleSheet.ownerNode.id!==b[4].style_id&&N(b,a[e],c)}function N(b,a,c,e,d){var f=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),g=a.type,h=c?c.c:b[0],k=r(g,4,7,12);if(!r(g,1,5,4,7,8,6,12,10,3,2))return u('index:Unsuported "'+f+'" ['+g+"]",b);r(g,10,3,2)&&(e=f=10===g?E[2]:3===g?E[1]:E[0]);var l={n:0,_s:e||f,s:f,e:a,t:g,p:c||!1,o:{},c:k?{}:!1,oc:{},io:!1,uo:!1,up:{}};k&&!d?Z(b,a.cssRules,l):k||(l.o=W(a.cssText));
a=b[2].push(l)-1;l.n=a;c||(b[6][a]=l);d=[[f,h]];k=0;var m=e!==f;m&&d.push([e,h]);c&&d.push([c.s+" >> "+f,b[0]]);c&&c.s!==c._s&&m&&d.push([c._s+" >> "+e,b[0]]);for(c&&c.s!==c._s&&d.push([c._s+" >> "+f,b[0]]);k<d.length;k++)d[k][1][d[k][0]]?d[k][1][d[k][0]].e.push(a):d[k][1][d[k][0]]={t:g,e:[a]};return l}function x(b,a,c,e,d){var f="",g=!1;if(!d&&!b[1])if(t)b[1]=!0;else{var h=b[4].style_id;if(w.getElementById(h))for(var k=0;10>k;k++)if(!w.getElementById(h+"-"+k)){h=h+"-"+k;break}w.getElementById(h)?
u("create:can't create element.",b):(k=w.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("id",h),w.head.appendChild(k),b[1]=k,b[4].style_id=h)}h=d?d.e:b[1].sheet;if(c)if(k=n(c),8===k)for(var l in c)9===n(c[l])?(e=c[l](),f+=l+":"+z(e,l,b)+"; "):f+=l+":"+z(c[l],l,b)+"; ";else if(9===k)for(l in e=c(),e)f+=l+":"+z(e[l],l,b)+"; ";else f=c+":"+z(e,l,b)+";";f=a+" { "+f+" }";-1<E.indexOf(a)&&(f=a+" "+c);if(!t)try{var m=h.insertRule(f,h.cssRules.length);-1<m&&(g=N(b,h.cssRules[m],d,
a,!0))}catch(p){u('create:"'+(d?d.s+" >> ":"")+a+'" -> '+p,b)}return g||N(b,{cssText:f,type:Y(a),placeholder:!t,cssRules:{},style:{}},d,a,!0)}function C(b,a){7!==n(a)&&(a=[a]);b=b[2];for(var c=[],e=0;e<a.length;e++)b[a[e]]&&(c[a[e]]=b[a[e]]);return c}function A(b,a,c,e){var d=n(c),f=!a;a=f?b[0]:a.c;var g=[];if(5===d)c=B(c,b),a[c]&&(g=a[c].e);else if(6===d)for(var h in a){if(c.test(h))for(d=0;d<a[h].e.length;d++)g.push(a[h].e[d])}else if(7===d)for(d=0;d<c.length;d++){if(f=B(c[d],b),a[f])for(h=0;h<
a[f].e.length;h++)g.push(a[f].e[h])}else if(r(d,1,2)){if(f)return e?b[6]:F(b,b[6]);for(h in a)for(d=0;d<a[h].e.length;d++)g.push(a[h].e[d])}g=C(b,g);return e?g:F(b,g,c)}function O(b,a,c,e){var d=n(a);if(r(d,5,6,7,1,2))return A(b,!1,a,c);G(b,a,!1);return e}function G(b,a,c,e){var d,f,g={},h=/^@(media|keyframes|supports)/;7!==n(a)&&(a=[a]);if(!e&&!c){var k=!1;for(f=0;f<v.length;f++)for(d=0;d<a.length;d++)if(v[f]in a[d]){k=!0;e=g[v[f]];var l=a[d][v[f]];l=7===n(l)?l:[l];g[v[f]]=e?e.concat(l):l}k&&G(b,
g,c,k)}for(d=0;d<a.length;d++)for(m in e=a[d],e)if(!(m in g)){l=7===n(e[m])?e[m]:[e[m]];var m=B(m,b);for(f=0;f<l.length;f++)if("@"===m.charAt(0))if(-1<v.indexOf(m))x(b,m,l[f],null,c);else if(c&&r(c.t,4,7,12)||h.test(m)){var p=m;(k=c)&&!m.match(h)&&(m=M(c._s,m),k=c.p);k=x(b,m,null,null,k);G(b,l[f],k,!1,!0);c&&(k.io=!0,c.o[p]||(c.o[p]=[]),c.o[p].push(k.n))}else u('import:Unsuported "'+m+'" ['+Y(m)+"]",b);else r(n(l[f]),5,4,3)?(k=c?c.c:b[0],k["*"]||x(b,"*",null,null,c),q(b,C(b,k["*"].e),m,l[f])):(k=
x(b,m,null,null,c))&&q(b,[k],l[f])}}function q(b,a,c,e,d,f){if(a[d]){if(r(a[d].t,2,3,10,5))return u('set:Readonly rule "'+a[d].s+'" ['+a[d].t+"]",b);c=B(c,b);if(a[d].c)q(b,A(b,a[d],null,!0),c,e,!1,f);else{var g=n(e),h;if(r(g,8,7)){var k="@"===c.charAt(0);var l=8===g?[e]:e,m=M(a[d].s,c);!f&&k&&(m=a[d].p?M(a[d].p.s,c):c);for(h=0;h<l.length;h++)f&&7===n(a[d].o[c])?q(b,C(b,a[d].o[c]),l[h],!1,!1,f):(e=x(b,m,null,null,k?!1:a[d].p),!f&&e&&(k&&(g=e,(e=x(b,a[d].s,null,null,e))||(e=g)),q(b,[e],l[h],!1,!1,f),
k&&a[d].p&&(g=a[d].p,7!==n(g.o[c])&&(g.o[c]=[]),g.o[c].push(e.p.n)),e.io=!0,7!==n(a[d].o[c])&&(a[d].o[c]=[]),a[d].o[c].push(e.n)))}else if(9===g)try{k=e(c,D(b,[a[d]],c)),q(b,a,c,k,d,f),f||(a[d].up[c]=e)}catch(p){u("set:"+p,b)}else{k=z(e,c,b);if(c in b[5])for(g=0;g<b[5][c].length;g++)q(b,a,b[5][c][g],e,d,f);if(!t){if(c in H)for(g=0;g<H[c].length;g++){if(H[c][g]in a[d].e.style){h=H[c][g];break}}else h=X(c);h!==c&&(a[d].e.style[h]=k);a[d].e.style[c]=k}a[d].o[c]=k}}}else for(h=0,k=n(c);h<a.length;h++)if(a[h])if(8===
k)for(g in c)q(b,a,g,c[g],h,f);else if(9===k){d=c(a[h].s,D(b,[a[h]])[a[h].s]);for(g in d)q(b,a,g,d[g],h,f);f||(a[h].uo=c)}else q(b,a,c,e,h,f)}function D(b,a,c,e){if(!c)return y(b,a,3);for(var d=e?[]:"",f,g=0;g<a.length;g++)a[g]&&(f="",a[g].o[c]&&(f=a[g].o[c],7===n(f)&&(f=y(b,C(b,f),3))),t||(f||(f=a[g].e.style[c]),f||(f=(f=a[g].e.cssText.match(new RegExp(c+"s*:s*(.+?);")))?f[1].trim():"")),f&&(e?d.push(f):d=f));return d}function I(b,a,c,e,d,f){e||(e=[]);var g=":",h=";",k="{",l="}";c?d=f="":(f||(f=
b[4].parse_tab,k=n(f),r(k,5,3,4)||(f=2,k=n(f)),4===k&&(f=Math.floor(f)),5!==k&&(f=Array(f+1).join(" "))),d=d||"",k=" {\n",g+=" ",h+="\n",l+="\n");for(var m=0,p="",q,t;m<a.length;m++)if(a[m]&&0>e.indexOf(m)){if(r(a[m].t,2,3,10))p+=d+a[m]._s+" "+a[m].o+h;else{t="";for(q in a[m].o)7!==n(a[m].o[q])&&(t+=d+f+q+g+a[m].o[q]+h);a[m].c&&(t+=I(b,A(b,a[m],null,!0),c,e,d+f,f));0<t.length&&(p+=d+a[m]._s+k+t+d+l)}e.push(m)}return p}function y(b,a,c,e,d){3!==n(c)&&(c=ea[c]||3);if(r(c,1,2))return I(b,a,2===c);e||
(e=[]);for(var f=4===c?[]:{},g,h=0,k,l,m={},p;h<a.length;h++)if(a[h]&&0>e.indexOf(h)){g={};if(r(a[h].t,2,3,10))g=a[h].o,p=!0;else for(k in p=!1,a[h].o)7===n(a[h].o[k])?3===c&&(g[k]=y(b,C(b,a[h].o[k]),c,e,!0),p=!0):(g[k]=a[h].o[k]+(isFinite(a[h].o[k])?"!":""),p=!0);a[h].c&&(l=A(b,a[h],null,!0),0<l.length&&(g=J(y(b,l,c,e,!1),g),p=!0));p&&(4===c?(l={},l[a[h]._s]=g,f.push(l)):(l=0>v.indexOf(a[h].s)?f:m,l[a[h]._s]?(7!==n(l[a[h]._s])&&(l[a[h]._s]=[l[a[h]._s]]),l[a[h]._s].push(g)):l[a[h]._s]=g));e.push(h)}if(4===
c)return f;f=J(m,f);if(d){l=!1;b=0;for(h in f)if(b++,1===b)l=f[h];else break;if(1===b)return l}return f}function P(b,a){for(var c=0,e,d;c<a.length;c++)if(a[c]){if(!1!==a[c].uo)for(d in e=a[c].uo(a[c].s,D(b,[a[c]])[a[c].s]),e)q(b,a,d,e[d],c,!0);if(a[c].c)P(b,A(b,a[c],null,!0));else for(d in a[c].up)q(b,a,d,a[c].up[d](d,D(b,[a[c]],d)),c,!0)}}function Q(b,a,c,e){for(var d=r(n(c),1,2),f=0,g=[];f<a.length;f++)if(a[f])if(a[f].c&&Q(b,A(b,a[f],null,!0),c,e),d){var h,k=a[f].e,l=k.parentRule?k.parentRule:k.parentStyleSheet;
for(h=0;h<l.cssRules.length;h++)if(l.cssRules[h]===k){l.deleteRule(h);break}h=a[f].p?a[f].p:b[0];k=a[f].s;l=a[f];if(h&&h[k]){var m=l?h[k].e.indexOf(l):-1;l?0<=m&&(h[k].e.splice(m,1),0>=h[k].e.length&&delete h[k]):delete h[k]}}else g.push(a[f]),t||(a[f].e.style[c]=""),a[f].o[c]&&(7===n(a[f].o[c])&&Q(b,a[f].o[c]),delete a[f].o[c]);e&&(e.e=R(b,g))}function S(b,a,c,e,d){0>c&&(c+=fa(a).length);for(var f=0,g=0,h=[];f<a.length;f++)if(a[f]){if(c===g){h[f]=a[f];break}g++}return F(b,h,e,!1,d)}function R(b,
a){for(var c=[],e=0;e<a.length;e++)a[e]&&c.push(t||a[e].e.placeholder?y(b,[a[e]],3):a[e].e);return c}function aa(b,a,c,e){var d=n(a);if(8===d)J(b,a);else if(5===d){if(2===n(c))return b[a];b[a]=c}else{if(7===d){c={};for(e=0;e<a.length;e++)c[a[e]]=b[a[e]];return c}if(2===d)return b}return e}function F(b,a,c,e,d){function f(){if(1>a.length&&!e&&5===n(c)){var f,k=[],l,m=d?d:[null];for(l=0;l<m.length;l++)(f=x(b,c,null,null,m[l]))&&k.push(f);a=k;g.e=R(b,a);g.selector=1===a.length?a[0].s:c}}var g=function(c){var d,
e,h=[];f();for(d in a)if(a[d].c){var g=O(a[d].c,c,!0);for(e=0;e<g.length;e++)h.push(g[e])}return F(b,h,c,null,a)};g.e=R(b,a);g.selector=1===a.length?a[0].s:c;K(g,{set:function(c,d){f();q(b,a,c,d);return g},get:function(c,d){return D(b,a,c,d)},update:function(){P(b,a);return g},"delete":function(c){Q(b,a,c,g);return g},"export":function(c){return y(b,a,c)},parse:function(c){return I(b,a,c)},pos:function(e){return S(b,a,e,c,d)},first:function(){return S(b,a,0,c,d)},last:function(){return S(b,a,-1,c,
d)}});return g}function T(){var b=[{},!1,[],{},{},{},[]],a=function(c){try{return O(b,c,!1,a)}catch(e){u("CSSC:"+e,b)}};K(a,{version:"1.0.0",init:function(c){c=7===n(c)?c:[c];for(var e=0;e<c.length;e++){var d=!1;var f=n(c[e],1);if(c[e]){c[e]=c[e].sheet||c[e];f=c[e].href||f;try{d=c[e].cssRules||d}catch(h){f+='" -> "'+h}if(!d&&9===n(c[e])){if(c[e].e&&7===n(c[e].e)){d=c[e].e;var g="handler"}else"1.0.0"===c[e].version&&c[e].type===L?(d=c[e]().e,g="ID:"+c[e].conf().style_id):g=c[e].name;f=(d?"CSSC":f)+
"["+g+"]"}}d&&0<d.length?Z(b,d,null):u("init:Can't init from \""+f+'"',b)}return a},"import":function(c){G(b,c,!1);return a},"export":function(a){return y(b,b[6],a)},parse:function(a){return I(b,b[6],a)},update:function(c){c?O(b,c).update():P(b,b[6]);return a},"new":function(){return T()},alias:function(c,e){var d=b[5],f=n(c),g;5===f&&(f={},f[c]=e,c=f,f=8);if(8===f)for(g in c)for(f=c[g],7!==n(f)&&(f=[f]),(g in d)||(d[g]=[]),e=0;e<f.length;e++)d[g].push(f[e]);return a},conf:function(c,e){return aa(b[4],
c,e,a)},vars:function(c,e){return aa(b[3],c,e,a)},parseVars:function(a,e){return B(a,[,,,e?J({},b[3],e):b[3],b[4]])},objFromCss:function(a){return W(a)},_conf:ba,type:L,type_export:ha,messages:V});return a.conf(ba)}var v=["@charset","@import","@namespace","@font-face"],E=v.slice(0,3),V=[],ca={Null:1,Undefined:2,Integer:3,Float:4,String:5,RegExp:6,Array:7,Object:8,Function:9},t=8===n(w),H={float:["cssFloat"]},J=9===n(Object.assign)?Object.assign:function(){var b,a,c=arguments;for(a=1;a<c.length;a++)for(b in c[a])c[0][b]=
c[a][b];return c[0]},da=9===n(Object.defineProperty)?Object.defineProperty:function(b,a,c){b[a]=c.value},ia=9===n(Object.preventExtensions),U=9===n(Object.freeze)?Object.freeze:function(b){var a={};K(a,b);b=a;ia&&Object.preventExtensions(b);return b},fa=9===n(Object.keys)?Object.keys:function(b){var a=[],c;for(c in b)a.push(c);return a};n(Object.values);var L=U({rule:1,charset:2,"import":3,media:4,fontFace:5,page:6,keyframes:7,keyframe:8,namespace:10,counterStyle:11,supports:12,fontFeatureValues:14,
viewport:15}),ea={css:1,min:2,obj:3,object:3,arr:4,array:4,objNMD:5},ha=U({css:"css",min:"min",obj:"obj",arr:"arr",object:"object",notMDObject:"objNMD",array:"array"}),ba=U({style_id:"cssc-style",view_err:!0,parse_tab:2,parse_unit_default:"px",parse_vars_limit:100});if(t)w.exports=T();else return T()}("undefined"===typeof module?document:module);
