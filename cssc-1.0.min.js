/* CSSC.js | @version 1.0b |  m13p4 */
var _d=[],CSSC=function(x){function r(){for(var c=arguments,a=1;a<c.length;a++)if(c[0]===c[a])return!0;return!1}function v(c,a){a=a[4];c='"'+a.style_id+'"/'+c.replace(/^.+?:/,function(a){return(a+"     ").slice(0,8)});a.view_err&&console.log(c);V.push(c)}function n(c,a){var b=Object.prototype.toString.call(c).split(/ |\]/)[1];"Number"!==b||a||(b=Math.floor(c)===c?3:4);return a?b:da[b]||b}function K(c,a){for(var b in a)ea(c,b,{enumerable:!0,value:a[b]})}function z(c,a,b){var d=n(c),e=5===d,g=e&&c.match(/^0x[0-9a-f\.\+]+$/i);
if(g||isFinite(c)){b=(b[4].parse_unit_default||"px")+"";var f=c;g?(d=c.search(/\.|\+/),0>d?f=parseInt(c):(e=c.substr(d+1),f=parseInt(c.substr(0,d))+("+"===c.charAt(d)?parseFloat(e):parseInt(e,16)/Math.pow(16,e.length))),d=n(f)):e&&(f=parseFloat(c),d=n(f));g||/(^|-)color$/i.test(a)?(c=f,e=0,4===d&&(c=Math.floor(f),e=f-c),c=[(c&16711680)>>16,(c&65280)>>8,c&255].join(", "),c=0<e?"rgba("+c+", "+Math.floor(100*e)/100+")":"rgb("+c+")"):c=3===d?f+b:Math.floor(100*f)/100+b}else if(e&&-1<c.indexOf(" ")){c=
c.split(" ");for(d=0;d<c.length;d++)c[d]=z(c[d],a,b);c=c.join(" ")}else e&&"!"===c.charAt(c.length-1)&&(c=c.substr(0,c.length-1));return c}function B(c,a,b,d,e){b=b||2;b=5===n(b)?b:Array(parseInt(b)+1).join(" ");var g="",f,h=n(c),k=/\s*,\s*/g,l=/\s*(,|:)\s*/g;d=d||"";if(5===h)return c;if(7===h)for(h=0;h<c.length;h++)g+=B(c[h],a,b,d,!0);else for(f in c){var m=c[f];h=n(c[f]);if(r(h,7,8))if(e&&7===h){var p=B(c[f],a,b,d+b,e);""!==p&&(g=a?g+(f.replace(l,"$1")+"{"+p+"}"):g+(d+f.replace(k,",\n"+d)+" {\n"+
p+d+"}\n"))}else for(8===h&&(m=[c[f]]),h=0;h<m.length;h++)-1<A.indexOf(f)?g+=f+" "+m[h]+";"+(a?"":"\n"):(p=B(m[h],a,b,d+b,e),""!==p&&(g=a?g+(f.replace(l,"$1")+"{"+p+"}"):g+(d+f.replace(k,",\n"+d)+" {\n"+p+d+"}\n")));else g=-1<A.indexOf(f)?g+(f+" "+m+";"+(a?"":"\n")):a?g+(f+":"+m.trim().replace(k,",")+";"):g+((d.length<b.length?b:d)+f+": "+m+";\n")}return g}function W(c){if(/^@(namespace|import|charset)/.test(c))return c.replace(/(^@.*\s+|\s*;\s*$)/g,"");var a=c.replace(/(^.*?{\s*|\s*}\s*$)/g,"");
c=a.split(";");var b={};if(""!==a)for(a=0;a<c.length;a++)if(""!==c[a]){var d=c[a].split(":");b[d[0].trim()]=d.slice(1).join(":").trim()}return b}function X(c){var a=c.split("-"),b;c=a[0];for(b=1;b<a.length;b++)c+=a[b].charAt(0).toUpperCase()+a[b].substr(1);return c}function Y(c){c=c.trim();if("@"!==c.charAt(0))return 1;c=c.substr(1);var a=c.indexOf(" ");-1<a&&(c=c.substr(0,a));return L[X(c)]||-1}function M(c,a){"@"===a.charAt(0)&&"@"===c.charAt(0)&&(a=a.substr(1));a="/"===a.charAt(0)?a.substr(1):
","===a.charAt(0)?", "+a.substr(1).trim():" "+a;if(0<=c.indexOf(",")||0<a.indexOf(",")){c=c.split(",");var b,d="",e=a.split(",");if(","!==a.charAt(0))for(b=0;b<c.length;b++)for(a=0;a<e.length;a++)d+=c[b]+e[a]+", ";else for(b=0;b<c.length;b++)d+=c[b]+a+", ";return d.replace(/,+\s*$/,"")}return c+a}function C(c,a){c||(c="");for(var b=c.lastIndexOf("$"),d=0,e,g,f,h,k,l,m=a[4].parse_vars_limit||100,p=a[3]||{};0<=b&&d<m;){d++;e=null;h=c.substr(b+1);a=h.search(/[^\w\.]/);a=0>a?c.length:a+b;k=c.substr(b+
1,a-b);l=k.split(".");for(g=0;g<l.length;g++)if(!(1>l[g].length)){f=n(e);if(0===g&&l[g]in p)e=p[l[g]];else if(r(f,7,8)&&l[g]in e)e=e[l[g]];else if(5===f&&l[g].match(/^[0-9]+$/))e=e.charAt(l[g]);else{e="$"+k;break}if(9===n(e)){if("("===c.charAt(a+1)){a++;f=h=a;do f=c.indexOf("(",f+1),a=c.indexOf(")",a+1);while(-1<f&&f<a);0>a&&(a=c.length);h=c.substr(h+1,a-h-1);h=h.trim().split(/\s*,\s*/);e=e.apply(null,h)}else e=e();if("."===c.charAt(a+1))for(a++,f=a,h=c.substr(a+1),a=h.search(/[^\w\.]/),h=h.substr(0,
0>a?h.length:a),a=0>a?c.length:a+f,k=c.substr(b+1,a-b),h=h.split("."),f=0;f<h.length;f++)l.push(h[f])}}c=c.substr(0,b)+e+c.substr(a+1);a="$"+k===e?b:a+(e.length-1);if(0>--a)break;b=c.lastIndexOf("$",a)}return c}function Z(c,a,b){for(var d=0;d<a.length;d++)!t&&a[d]&&a[d].parentStyleSheet&&a[d].parentStyleSheet.ownerNode&&a[d].parentStyleSheet.ownerNode.id!==c[4].style_id&&N(c,a[d],b)}function N(c,a,b,d,e){var g=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),f=a.type,h=b?b.c:c[0],k=r(f,4,7,12);if(!r(f,
1,5,4,7,8,6,12,10,3,2))return v('index:Unsuported "'+g+'" ['+f+"]",c);r(f,10,3,2)&&(d=g=10===f?A[2]:3===f?A[1]:A[0]);var l={n:0,_s:d||g,s:g,e:a,t:f,p:b||!1,o:{},c:k?{}:!1,oc:{},io:!1,uo:!1,up:{}};k&&!e?Z(c,a.cssRules,l):k||(l.o=W(a.cssText));a=c[2].push(l)-1;l.n=a;b||(c[6][a]=l);e=[[g,h]];k=0;var m=d!==g;m&&e.push([d,h]);b&&e.push([b.s+" >> "+g,c[0]]);b&&b.s!==b._s&&m&&e.push([b._s+" >> "+d,c[0]]);for(b&&b.s!==b._s&&e.push([b._s+" >> "+g,c[0]]);k<e.length;k++)e[k][1][e[k][0]]?e[k][1][e[k][0]].e.push(a):
e[k][1][e[k][0]]={t:f,e:[a]};return l}function y(c,a,b,d,e){var g="",f=!1;if(!e&&!c[1])if(t)c[1]=!0;else{var h=c[4].style_id;if(x.getElementById(h))for(var k=0;10>k;k++)if(!x.getElementById(h+"-"+k)){h=h+"-"+k;break}x.getElementById(h)?v("create:can't create element.",c):(k=x.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("id",h),x.head.appendChild(k),c[1]=k,c[4].style_id=h)}h=e?e.e:c[1].sheet;if(b)if(k=n(b),8===k)for(var l in b)9===n(b[l])?(d=b[l](),g+=l+":"+z(d,l,c)+"; "):
g+=l+":"+z(b[l],l,c)+"; ";else if(9===k)for(l in d=b(),d)g+=l+":"+z(d[l],l,c)+"; ";else g=b+":"+z(d,l,c)+";";g=a+" { "+g+" }";-1<A.indexOf(a)&&(g=a+" "+b);if(!t)try{var m=h.insertRule(g,h.cssRules.length);-1<m&&(f=N(c,h.cssRules[m],e,a,!0))}catch(p){v('create:"'+(e?e.s+" >> ":"")+a+'" -> '+p,c)}return f||N(c,{cssText:g,type:Y(a),placeholder:!t,cssRules:{},style:{}},e,a,!0)}function D(c,a){7!==n(a)&&(a=[a]);c=c[2];for(var b={},d=0;d<a.length;d++)c[a[d]]&&(b[a[d]]=c[a[d]]);return b}function E(c,a,b,
d){var e=n(b),g=!a;a=g?c[0]:a.c;var f=[];if(5===e)b=C(b,c),a[b]&&(f=a[b].e);else if(6===e)for(var h in a){if(b.test(h))for(e=0;e<a[h].e.length;e++)f.push(a[h].e[e])}else if(7===e)for(e=0;e<b.length;e++){if(g=C(b[e],c),a[g])for(h=0;h<a[g].e.length;h++)f.push(a[g].e[h])}else if(r(e,1,2)){if(g)return d?c[6]:H(c,c[6]);for(h in a)for(e=0;e<a[h].e.length;e++)f.push(a[h].e[e])}f=D(c,f);return d?f:H(c,f,b)}function O(c,a,b,d){var e=n(a);if(r(e,5,6,7,1,2))return E(c,!1,a,b);I(c,a,!1);return d}function I(c,
a,b,d){var e,g,f={},h=/^@(media|keyframes|supports)/;7!==n(a)&&(a=[a]);if(!d&&!b){var k=!1;for(g=0;g<w.length;g++)for(e=0;e<a.length;e++)if(w[g]in a[e]){k=!0;d=f[w[g]];var l=a[e][w[g]];l=7===n(l)?l:[l];f[w[g]]=d?d.concat(l):l}k&&I(c,f,b,k)}for(e=0;e<a.length;e++)for(m in d=a[e],d)if(!(m in f)){l=7===n(d[m])?d[m]:[d[m]];var m=C(m,c);for(g=0;g<l.length;g++)if("@"===m.charAt(0))if(-1<w.indexOf(m))y(c,m,l[g],null,b);else if(b&&r(b.t,4,7,12)||h.test(m)){var p=m;(k=b)&&!m.match(h)&&(m=M(b._s,m),k=b.p);
k=y(c,m,null,null,k);I(c,l[g],k,!1,!0);b&&(k.io=!0,b.o[p]||(b.o[p]=[]),b.o[p].push(k.n))}else v('import:Unsuported "'+m+'" ['+Y(m)+"]",c);else r(n(l[g]),5,4,3)?(k=b?b.c:c[0],k["*"]||y(c,"*",null,null,b),q(c,D(c,k["*"].e),m,l[g])):(k=y(c,m,null,null,b))&&q(c,[k],l[g])}}function q(c,a,b,d,e,g){if(a[e]){if(r(a[e].t,2,3,10,5))return v('set:Readonly rule "'+a[e].s+'" ['+a[e].t+"]",c);b=C(b,c);if(a[e].c)q(c,E(c,a[e],null,!0),b,d,!1,g);else{var f=n(d);if(r(f,8,7)){var h="@"===b.charAt(0);var k=8===f?[d]:
d,l=M(a[e].s,b);!g&&h&&(l=a[e].p?M(a[e].p.s,b):b);for(f=0;f<k.length;f++)if(g&&7===n(a[e].o[b]))q(c,D(c,a[e].o[b]),k[f],!1,!1,g);else{var m=y(c,l,null,null,h?!1:a[e].p);!g&&m&&(h&&(d=m,(m=y(c,a[e].s,null,null,m))||(m=d)),q(c,[m],k[f],!1,!1,g),h&&a[e].p&&(d=a[e].p,7!==n(d.o[b])&&(d.o[b]=[]),d.o[b].push(m.p.n)),m.io=!0,7!==n(a[e].o[b])&&(a[e].o[b]=[]),a[e].o[b].push(m.n))}}else if(9===f)try{k=d(b,F(c,[a[e]],b)),q(c,a,b,k,e,g),g||(a[e].up[b]=d)}catch(p){v("set:"+p,c)}else{f=z(d,b,c);if(b in c[5])for(d=
0;d<c[5][b].length;d++)q(c,a,c[5][b][d],f,e,g);if(!t){if(b in J)for(d=0;d<J[b].length;d++){if(J[b][d]in a[e].e.style){h=J[b][d];break}}else h=X(b);h!==b&&(a[e].e.style[h]=f);a[e].e.style[b]=f}a[e].o[b]=f}}}else if(h=n(b),7===h)for(f=0;f<b.length;f++)if(a.length>f)q(c,[a[f]],b[f]);else break;else for(f in a)if(8===h)for(m in b)q(c,a,m,b[m],f,g);else if(9===h){e=b(a[f].s,F(c,[a[f]])[a[f].s]);for(m in e)q(c,a,m,e[m],f,g);g||(a[f].uo=b)}else q(c,a,b,d,f,g)}function F(c,a,b,d){if(!b)return u(c,a,3);var e=
d?[]:"",g;for(g in a){var f="";a[g].o[b]&&(f=a[g].o[b],7===n(f)&&(f=u(c,D(c,f),3)));t||(f||(f=a[g].e.style[b]),f||(f=(f=a[g].e.cssText.match(new RegExp(b+"s*:s*(.+?);")))?f[1].trim():""));f&&(d?e.push(f):e=f)}return e}function u(c,a,b,d,e){3!==n(b)&&(b=fa[b]||3);d||(d=[]);var g=r(b,1,2),f=4===b?[]:g?"":{},h=g?5:b,k,l,m={};for(k in a)if(0>d.indexOf(k)){if(r(a[k].t,2,3,10))var p=a[k].o;else for(l in p=G({},a[k].o),a[k].o)7===n(a[k].o[l])?3!==b?(p[l]=null,delete p[l]):p[l]=u(c,D(c,a[k].o[l]),b,d,!0):
1!==b&&2!==b&&isFinite(a[k].o[l])&&(p[l]+="!");a[k].c&&(p=G(u(c,E(c,a[k],null,!0),h,d),p));if(!(1>aa(p).length)){if(g||4===b){var q={};q[a[k]._s]=p;g?f+=B(q,2===b,c[4].parse_tab):f.push(q)}else q=0>w.indexOf(a[k].s)?f:m,q[a[k]._s]?(7!==n(q[a[k]._s])&&(q[a[k]._s]=[q[a[k]._s]]),q[a[k]._s].push(p)):q[a[k]._s]=p;d.push(k)}}if(g||4===b)return f;f=G(m,f);if(e){q=!1;c=0;for(k in f)if(c++,1===c)q=f[k];else break;if(1===c)return q}return f}function P(c,a){var b,d;for(b in a){if(!1!==a[b].uo){var e=a[b].uo(a[b].s,
F(c,[a[b]])[a[b].s]);for(d in e)q(c,a,d,e[d],b,!0)}if(a[b].c)P(c,E(c,a[b],null,!0));else for(d in a[b].up)q(c,a,d,a[b].up[d](d,F(c,[a[b]],d)),b,!0)}}function Q(c,a,b,d){var e=r(n(b),1,2),g,f=[];for(g in a)if(a[g].c&&Q(c,E(c,a[g],null,!0),b,d),e){var h,k=a[g].e,l=k.parentRule?k.parentRule:k.parentStyleSheet;for(h=0;h<l.cssRules.length;h++)if(l.cssRules[h]===k){l.deleteRule(h);break}h=a[g].p?a[g].p:c[0];k=a[g].s;l=a[g];if(h&&h[k]){var m=l?h[k].e.indexOf(l):-1;l?0<=m&&(h[k].e.splice(m,1),0>=h[k].e.length&&
delete h[k]):delete h[k]}}else f.push(a[g]),t||(a[g].e.style[b]=""),a[g].o[b]&&(7===n(a[g].o[b])&&Q(c,a[g].o[b]),delete a[g].o[b]);d&&(d.e=R(c,f))}function S(c,a,b,d,e){0>b&&(b+=aa(a).length);var g,f=0,h={};for(g in a){if(b===f){h[g]=a[g];break}f++}return H(c,h,d,!1,e)}function R(c,a){var b=[],d;for(d in a)b.push(t||a[d].e.placeholder?u(c,[a[d]],3):a[d].e);return b}function ba(c,a,b,d){var e=n(a);if(8===e)G(c,a);else if(5===e){if(2===n(b))return c[a];c[a]=b}else{if(7===e){b={};for(d=0;d<a.length;d++)b[a[d]]=
c[a[d]];return b}if(2===e)return c}return d}function H(c,a,b,d,e){function g(){if(1>a.length&&!d&&5===n(b)){var g,k=[],l,m=e?e:[null];for(l=0;l<m.length;l++)(g=y(c,b,null,null,m[l]))&&k.push(g);a=k;f.e=R(c,a);f.selector=1===a.length?a[0].s:b}}var f=function(b){var d,e,f=[];g();for(d in a)if(a[d].c){var h=O(a[d].c,b,!0);for(e=0;e<h.length;e++)f.push(h[e])}return H(c,f,b,null,a)};f.e=R(c,a);f.selector=1===a.length?a[0].s:b;K(f,{set:function(b,d){g();q(c,a,b,d);return f},get:function(b,d){return F(c,
a,b,d)},update:function(){P(c,a);return f},"delete":function(b){Q(c,a,b,f);return f},"export":function(b){return u(c,a,b)},parse:function(b){return u(c,a,b?2:1)},pos:function(d){return S(c,a,d,b,e)},first:function(){return S(c,a,0,b,e)},last:function(){return S(c,a,-1,b,e)}});return f}function T(){var c=[{},!1,[],{},{},{},{}],a=function(b){try{return O(c,b,!1,a)}catch(d){v("CSSC:"+d,c)}};K(a,{version:"1.0.0",init:function(b){b=7===n(b)?b:[b];for(var d=0;d<b.length;d++){var e=!1;var g=n(b[d],1);if(b[d]){b[d]=
b[d].sheet||b[d];g=b[d].href||g;try{e=b[d].cssRules||e}catch(h){g+='" -> "'+h}if(!e&&9===n(b[d])){if(b[d].e&&7===n(b[d].e)){e=b[d].e;var f="handler"}else"1.0.0"===b[d].version&&b[d].type===L?(e=b[d]().e,f="ID:"+b[d].conf().style_id):f=b[d].name;g=(e?"CSSC":g)+"["+f+"]"}}e&&0<e.length?Z(c,e,null):v("init:Can't init from \""+g+'"',c)}return a},"import":function(b){I(c,b,!1);return a},"export":function(a){return u(c,c[6],a)},parse:function(a){return u(c,c[6],a?2:1)},update:function(b){b?O(c,b).update():
P(c,c[6]);return a},"new":function(){return T()},alias:function(b,d){var e=c[5],g=n(b),f;5===g&&(g={},g[b]=d,b=g,g=8);if(8===g)for(f in b)for(g=b[f],7!==n(g)&&(g=[g]),(f in e)||(e[f]=[]),d=0;d<g.length;d++)e[f].push(g[d]);return a},conf:function(b,d){return ba(c[4],b,d,a)},vars:function(b,d){return ba(c[3],b,d,a)},parseVars:function(a,d){return C(a,[,,,d?G({},c[3],d):c[3],c[4]])},objFromCss:function(a){return W(a)},cssFromObj:function(a,c,e){return B(a,c,e)},_conf:ca,type:L,type_export:ha,messages:V});
return a.conf(ca)}var w=["@charset","@import","@namespace","@font-face"],A=w.slice(0,3),V=[],da={Null:1,Undefined:2,Integer:3,Float:4,String:5,RegExp:6,Array:7,Object:8,Function:9},t=8===n(x),J={float:["cssFloat"]},G=9===n(Object.assign)?Object.assign:function(){var c,a,b=arguments;for(a=1;a<b.length;a++)for(c in b[a])b[0][c]=b[a][c];return b[0]},ea=9===n(Object.defineProperty)?Object.defineProperty:function(c,a,b){c[a]=b.value},ia=9===n(Object.preventExtensions),U=9===n(Object.freeze)?Object.freeze:
function(c){var a={};K(a,c);c=a;ia&&Object.preventExtensions(c);return c},aa=9===n(Object.keys)?Object.keys:function(c){var a=[],b;for(b in c)a.push(b);return a};n(Object.values);var L=U({rule:1,charset:2,"import":3,media:4,fontFace:5,page:6,keyframes:7,keyframe:8,namespace:10,counterStyle:11,supports:12,fontFeatureValues:14,viewport:15}),fa={css:1,min:2,obj:3,object:3,arr:4,array:4,objNMD:5},ha=U({css:"css",min:"min",obj:"obj",arr:"arr",object:"object",notMDObject:"objNMD",array:"array"}),ca=U({style_id:"cssc-style",
view_err:!0,parse_tab:2,parse_unit_default:"px",parse_vars_limit:100});if(t)x.exports=T();else return T()}("undefined"===typeof module?document:module);
