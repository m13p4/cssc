/* CSSC.js | @version 1.0b |  m13p4 */
var CSSC=function(t){function r(){for(var c=arguments,a=1;a<c.length;a++)if(c[0]===c[a])return!0;return!1}function w(c,a){a=a[4];c='"'+a.style_id+'"/'+c.replace(/^.+?:/,function(a){return(a+"     ").slice(0,8)});a.view_err&&console.log(c);X.push(c)}function n(c,a){var b=Object.prototype.toString.call(c).split(/ |\]/)[1];"Number"!==b||a||(b=Math.floor(c)===c?3:4);return a?b:da[b]||b}function L(c,a){for(var b in a)ea(c,b,{enumerable:!0,value:a[b]})}function A(c,a,b){var d=n(c),e=5===d,f=e&&c.match(/^0x[0-9a-f\.\+]+$/i);
if(f||isFinite(c)){var h=b[7][a],g=c;2===n(h)&&(h=b[4].parse_unit_default||"px");h+="";f?(d=c.search(/\.|\+/),0>d?g=parseInt(c):(b=c.substr(d+1),g=parseInt(c.substr(0,d))+("+"===c.charAt(d)?parseFloat(b):parseInt(b,16)/Math.pow(16,b.length))),d=n(g)):e&&(g=parseFloat(c),d=n(g));f||/(^|-)color$/i.test(a)?(c=g,b=0,4===d&&(c=Math.floor(g),b=g-c),c=[(c&16711680)>>16,(c&65280)>>8,c&255].join(", "),c=0<b?"rgba("+c+", "+Math.floor(100*b)/100+")":"rgb("+c+")"):c=3===d?g+h:Math.floor(100*g)/100+h}else if(e&&
-1<c.indexOf(" ")){c=c.split(" ");for(d=0;d<c.length;d++)c[d]=A(c[d],a,b);c=c.join(" ")}else e&&"!"===c.charAt(c.length-1)&&(c=c.substr(0,c.length-1));return c}function Y(c){if(/^@(namespace|import|charset)/.test(c))return c.replace(/(^@.*\s+|\s*;\s*$)/g,"");var a=c.replace(/(^.*?{\s*|\s*}\s*$)/g,"");c=a.split(";");var b={};if(""!==a)for(a=0;a<c.length;a++)if(""!==c[a]){var d=c[a].split(":");b[d[0].trim()]=d.slice(1).join(":").trim()}return b}function Z(c){var a=c.split("-"),b;c=a[0];for(b=1;b<a.length;b++)c+=
a[b].charAt(0).toUpperCase()+a[b].substr(1);return c}function aa(c){c=c.trim();if("@"!==c.charAt(0))return 1;c=c.substr(1);var a=c.indexOf(" ");-1<a&&(c=c.substr(0,a));return M[Z(c)]||-1}function N(c,a){"@"===a.charAt(0)&&"@"===c.charAt(0)&&(a=a.substr(1));a="/"===a.charAt(0)?a.substr(1):","===a.charAt(0)?", "+a.substr(1).trim():" "+a.trim();if(0<=c.indexOf(",")||0<a.indexOf(",")){var b=c.split(","),d="",e=a.split(",");if(","!==a.charAt(0))for(c=0;c<b.length;c++)for(a=0;a<e.length;a++)d+=b[c]+e[a]+
", ";else d+=c+a+", ";return d.replace(/,+\s*$/,"")}return c+a}function C(c,a){c||(c="");for(var b=c.lastIndexOf("$"),d=0,e,f,h,g,k,l,m=a[4].parse_vars_limit||100,p=a[3]||{};0<=b&&d<m;){d++;e=null;g=c.substr(b+1);a=g.search(/[^\w\.]/);a=0>a?c.length:a+b;k=c.substr(b+1,a-b);l=k.split(".");for(f=0;f<l.length;f++)if(!(1>l[f].length)){h=n(e);if(0===f&&l[f]in p)e=p[l[f]];else if(r(h,7,8)&&l[f]in e)e=e[l[f]];else if(5===h&&l[f].match(/^[0-9]+$/))e=e.charAt(l[f]);else{e="$"+k;break}if(9===n(e)){if("("===
c.charAt(a+1)){a++;h=g=a;do h=c.indexOf("(",h+1),a=c.indexOf(")",a+1);while(-1<h&&h<a);0>a&&(a=c.length);g=c.substr(g+1,a-g-1);g=g.trim().split(/\s*,\s*/);e=e.apply(null,g)}else e=e();if("."===c.charAt(a+1))for(a++,h=a,g=c.substr(a+1),a=g.search(/[^\w\.]/),g=g.substr(0,0>a?g.length:a),a=0>a?c.length:a+h,k=c.substr(b+1,a-b),g=g.split("."),h=0;h<g.length;h++)l.push(g[h])}}c=c.substr(0,b)+e+c.substr(a+1);a="$"+k===e?b:a+(e.length-1);if(0>--a)break;b=c.lastIndexOf("$",a)}return c}function ba(c,a,b){for(var d=
0;d<a.length;d++)!u&&a[d]&&a[d].parentStyleSheet&&a[d].parentStyleSheet.ownerNode&&a[d].parentStyleSheet.ownerNode.id!==c[4].style_id&&O(c,a[d],b)}function O(c,a,b,d,e){var f=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),h=a.type,g=b?b.c:c[0],k=r(h,4,7,12);if(!r(h,1,5,4,7,8,6,12,10,3,2))return w('index:Unsuported "'+f+'" ['+h+"]",c);r(h,10,3,2)&&(d=f=10===h?F[2]:3===h?F[1]:F[0]);var l={n:0,_s:d||f,s:f,e:a,t:h,p:b||!1,o:{},c:k?{}:!1,oc:{},io:!1,uo:!1,up:{}};k&&!e?ba(c,a.cssRules,l):k||(l.o=Y(a.cssText));
a=c[2].push(l)-1;l.n=a;b||(c[6][a]=l);e=[[f,g]];k=0;var m=d!==f;m&&e.push([d,g]);b&&e.push([b.s+" >> "+f,c[0]]);b&&b.s!==b._s&&m&&e.push([b._s+" >> "+d,c[0]]);for(b&&b.s!==b._s&&e.push([b._s+" >> "+f,c[0]]);k<e.length;k++)e[k][1][e[k][0]]?e[k][1][e[k][0]].e.push(a):e[k][1][e[k][0]]={t:h,e:[a]};return l}function y(c,a,b,d,e){var f="",h=!1;if(!e&&!c[1])if(u)c[1]=!0;else{var g=c[4].style_id;if(t.getElementById(g))for(var k=0;10>k;k++)if(!t.getElementById(g+"-"+k)){g=g+"-"+k;break}t.getElementById(g)?
w("create:can't create element.",c):(k=t.createElement("style"),k.setAttribute("type","text/css"),k.setAttribute("id",g),t.head.appendChild(k),c[1]=k,c[4].style_id=g)}g=e?e.e:c[1].sheet;if(b)if(k=n(b),8===k)for(var l in b)9===n(b[l])?(d=b[l](),f+=l+":"+A(d,l,c)+"; "):f+=l+":"+A(b[l],l,c)+"; ";else if(9===k)for(l in d=b(),d)f+=l+":"+A(d[l],l,c)+"; ";else f=b+":"+A(d,l,c)+";";f=a+" { "+f+" }";-1<F.indexOf(a)&&(f=a+" "+b);if(!u)try{var m=g.insertRule(f,g.cssRules.length);-1<m&&(h=O(c,g.cssRules[m],e,
a,!0))}catch(p){w('create:"'+(e?e.s+" >> ":"")+a+'" -> '+p,c)}return h||O(c,{cssText:f,type:aa(a),placeholder:!u,cssRules:{},style:{}},e,a,!0)}function D(c,a){7!==n(a)&&(a=[a]);c=c[2];for(var b=[],d=0;d<a.length;d++)c[a[d]]&&(b[a[d]]=c[a[d]]);return b}function B(c,a,b,d){var e=n(b),f=!a;a=f?c[0]:a.c;var h=[];if(5===e)b=C(b,c),a[b]&&(h=a[b].e);else if(6===e)for(var g in a){if(b.test(g))for(e=0;e<a[g].e.length;e++)h.push(a[g].e[e])}else if(7===e)for(e=0;e<b.length;e++){if(f=C(b[e],c),a[f])for(g=0;g<
a[f].e.length;g++)h.push(a[f].e[g])}else if(r(e,1,2)){if(f)return d?c[6]:G(c,c[6]);for(g in a)for(e=0;e<a[g].e.length;e++)h.push(a[g].e[e])}h=D(c,h);return d?h:G(c,h,b)}function P(c,a,b,d){var e=n(a);if(r(e,5,6,7,1,2))return B(c,!1,a,b);H(c,a,!1);return d}function H(c,a,b,d){var e,f,h={},g=/^@(media|keyframes|supports)/;7!==n(a)&&(a=[a]);if(!d&&!b){var k=!1;for(f=0;f<x.length;f++)for(e=0;e<a.length;e++)if(x[f]in a[e]){k=!0;d=h[x[f]];var l=a[e][x[f]];l=7===n(l)?l:[l];h[x[f]]=d?d.concat(l):l}k&&H(c,
h,b,k)}for(e=0;e<a.length;e++)for(m in d=a[e],d)if(!(m in h)){l=7===n(d[m])?d[m]:[d[m]];var m=C(m,c);for(f=0;f<l.length;f++)if("@"===m.charAt(0))if(-1<x.indexOf(m))y(c,m,l[f],null,b);else if(b&&r(b.t,4,7,12)||g.test(m)){var p=m;(k=b)&&!m.match(g)&&(m=N(b._s,m),k=b.p);k=y(c,m,null,null,k);H(c,l[f],k,!1,!0);b&&(k.io=!0,b.o[p]||(b.o[p]=[]),b.o[p].push(k.n))}else w('import:Unsuported "'+m+'" ['+aa(m)+"]",c);else r(n(l[f]),5,4,3)?(k=b?b.c:c[0],k["*"]||y(c,"*",null,null,b),q(c,D(c,k["*"].e),m,l[f])):(k=
y(c,m,null,null,b))&&q(c,[k],l[f])}}function q(c,a,b,d,e,f){if(a[e]){if(r(a[e].t,2,3,10,5))return w('set:Readonly rule "'+a[e].s+'" ['+a[e].t+"]",c);b=C(b,c);if(a[e].c)q(c,B(c,a[e],null,!0),b,d,!1,f);else{var h=n(d),g;if("!"===b.charAt(0))switch(b=b.toLowerCase(),b){case "extend":q(c,[a[e]],d)}else if(r(h,8,7)){var k="@"===b.charAt(0);var l=8===h?[d]:d,m=N(a[e].s,b);!f&&k&&(m=a[e].p?N(a[e].p.s,b):b);for(g=0;g<l.length;g++)f&&7===n(a[e].o[b])?q(c,D(c,a[e].o[b]),l[g],!1,!1,f):(d=y(c,m,null,null,k?!1:
a[e].p),!f&&d&&(k&&(h=d,(d=y(c,a[e].s,null,null,d))||(d=h)),q(c,[d],l[g],!1,!1,f),k&&a[e].p&&(h=a[e].p,7!==n(h.o[b])&&(h.o[b]=[]),h.o[b].push(d.p.n)),d.io=!0,7!==n(a[e].o[b])&&(a[e].o[b]=[]),a[e].o[b].push(d.n)))}else if(9===h)try{k=d(b,E(c,[a[e]],b)),q(c,a,b,k,e,f),f||(a[e].up[b]=d)}catch(p){w("set:"+p,c)}else{k=A(d,b,c);if(b in c[5])for(h=0;h<c[5][b].length;h++)q(c,a,c[5][b][h],d,e,f);if(!u){if(b in I)for(h=0;h<I[b].length;h++){if(I[b][h]in a[e].e.style){g=I[b][h];break}}else g=Z(b);g!==b&&(a[e].e.style[g]=
k);a[e].e.style[b]=k}a[e].o[b]=k}}}else for(g=0,k=n(b);g<a.length;g++)if(a[g])if(8===k)for(h in b)q(c,a,h,b[h],g,f);else if(9===k){e=b(a[g].s,E(c,[a[g]])[a[g].s]);for(h in e)q(c,a,h,e[h],g,f);f||(a[g].uo=b)}else q(c,a,b,d,g,f)}function E(c,a,b,d){if(!b)return z(c,a,3);for(var e=d?[]:"",f,h=0;h<a.length;h++)a[h]&&(f="",a[h].o[b]&&(f=a[h].o[b],7===n(f)&&(f=z(c,D(c,f),3))),u||(f||(f=a[h].e.style[b]),f||(f=(f=a[h].e.cssText.match(new RegExp(b+"s*:s*(.+?);")))?f[1].trim():"")),f&&(d?e.push(f):e=f));return e}
function J(c,a,b,d,e,f){d||(d=[]);var h=":",g=";",k="{",l="}";b?e=f="":(f||(f=c[4].parse_tab,k=n(f),r(k,5,3,4)||(f=2,k=n(f)),4===k&&(f=Math.floor(f)),5!==k&&(f=Array(f+1).join(" "))),e=e||"",k=" {\n",h+=" ",g+="\n",l+="\n");for(var m=0,p="",q="",u="",w="",x="",t,v;m<a.length;m++)if(a[m]&&0>d.indexOf(m)){if(r(a[m].t,2,3,10))v=e+a[m]._s+" "+a[m].o+g,2===a[m].t?q+=v:3===a[m].t?u+=v:w+=v;else{v="";for(t in a[m].o)7!==n(a[m].o[t])&&(v+=e+f+t+h+a[m].o[t]+g);a[m].c&&(v+=J(c,B(c,a[m],null,!0),b,d,e+f,f));
0<v.length&&(t=a[m]._s,v=e+t+k+v+e+l,5===a[m].t?x+=v:p+=v)}d.push(m)}return q+u+w+x+p}function z(c,a,b,d,e){3!==n(b)&&(b=fa[b]||3);if(r(b,1,2))return J(c,a,2===b);d||(d=[]);for(var f=4===b?[]:{},h,g=0,k,l,m={},p;g<a.length;g++)if(a[g]&&0>d.indexOf(g)){h={};if(r(a[g].t,2,3,10))h=a[g].o,p=!0;else for(k in p=!1,a[g].o)7===n(a[g].o[k])?3===b&&(h[k]=z(c,D(c,a[g].o[k]),b,d,!0),p=!0):(h[k]=a[g].o[k]+(isFinite(a[g].o[k])?"!":""),p=!0);a[g].c&&(l=B(c,a[g],null,!0),0<l.length&&(h=K(z(c,l,b,d,!1),h),p=!0));
p&&(4===b?(l={},l[a[g]._s]=h,f.push(l)):(l=0>x.indexOf(a[g].s)?f:m,l[a[g]._s]?(7!==n(l[a[g]._s])&&(l[a[g]._s]=[l[a[g]._s]]),l[a[g]._s].push(h)):l[a[g]._s]=h));d.push(g)}if(4===b)return f;f=K(m,f);if(e){l=!1;c=0;for(g in f)if(c++,1===c)l=f[g];else break;if(1===c)return l}return f}function Q(c,a){for(var b=0,d,e;b<a.length;b++)if(a[b]){if(!1!==a[b].uo)for(e in d=a[b].uo(a[b].s,E(c,[a[b]])[a[b].s]),d)q(c,a,e,d[e],b,!0);if(a[b].c)Q(c,B(c,a[b],null,!0));else for(e in a[b].up)q(c,a,e,a[b].up[e](e,E(c,[a[b]],
e)),b,!0)}}function R(c,a,b,d){for(var e=r(n(b),1,2),f=0,h=[];f<a.length;f++)if(a[f])if(a[f].c&&R(c,B(c,a[f],null,!0),b,d),e){var g,k=a[f].e,l=k.parentRule?k.parentRule:k.parentStyleSheet;for(g=0;g<l.cssRules.length;g++)if(l.cssRules[g]===k){l.deleteRule(g);break}g=a[f].p?a[f].p:c[0];k=a[f].s;l=a[f];if(g&&g[k]){var m=l?g[k].e.indexOf(l):-1;l?0<=m&&(g[k].e.splice(m,1),0>=g[k].e.length&&delete g[k]):delete g[k]}}else h.push(a[f]),u||(a[f].e.style[b]=""),a[f].o[b]&&(7===n(a[f].o[b])&&R(c,a[f].o[b]),
delete a[f].o[b]);d&&(d.e=S(c,h))}function T(c,a,b,d,e){0>b&&(b+=ha(a).length);for(var f=0,h=0,g=[];f<a.length;f++)if(a[f]){if(b===h){g[f]=a[f];break}h++}return G(c,g,d,!1,e)}function S(c,a){for(var b=[],d=0;d<a.length;d++)a[d]&&b.push(u||a[d].e.placeholder?z(c,[a[d]],3):a[d].e);return b}function U(c,a,b,d){var e=n(a);if(8===e)K(c,a);else if(5===e){if(2===n(b))return c[a];c[a]=b}else{if(7===e){b={};for(d=0;d<a.length;d++)b[a[d]]=c[a[d]];return b}if(2===e)return c}return d}function G(c,a,b,d,e){function f(){if(1>
a.length&&!d&&5===n(b)){var f,k=[],l,m=e?e:[null];for(l=0;l<m.length;l++)(f=y(c,b,null,null,m[l]))&&k.push(f);a=k;h.e=S(c,a);h.selector=1===a.length?a[0].s:b}}var h=function(b){var d=0,e,g=[];for(f();d<a.length;d++)if(a[d]&&a[d].c){var h=P(a[d].c,b,!0);for(e=0;e<h.length;e++)g.push(h[e])}return G(c,g,b,null,a)};h.e=S(c,a);h.selector=1===a.length?a[0].s:b;L(h,{set:function(b,d){f();q(c,a,b,d);return h},get:function(b,d){return E(c,a,b,d)},update:function(){Q(c,a);return h},"delete":function(b){R(c,
a,b,h);return h},"export":function(b){return z(c,a,b)},parse:function(b){return J(c,a,b)},pos:function(d){return T(c,a,d,b,e)},first:function(){return T(c,a,0,b,e)},last:function(){return T(c,a,-1,b,e)}});return h}function V(){var c=[{},!1,[],{},{},{},[],{}],a=function(b){if("undefined"!==typeof this&&this.constructor===a)return V();try{return P(c,b,!1,a)}catch(d){w("CSSC:"+d,c)}};L(a,{version:"1.0.0",init:function(b){b=7===n(b)?b:[b];for(var d=0;d<b.length;d++){var e=!1;var f=n(b[d],1);if(b[d]){b[d]=
b[d].sheet||b[d];f=b[d].href||f;try{e=b[d].cssRules||e}catch(g){f+='" -> "'+g}if(!e&&9===n(b[d])){if(b[d].e&&7===n(b[d].e)){e=b[d].e;var h="handler"}else"1.0.0"===b[d].version&&b[d].type===M?(e=b[d]().e,h="ID:"+b[d].conf().style_id):h=b[d].name;f=(e?"CSSC":f)+"["+h+"]"}}e&&0<e.length?ba(c,e,null):w("init:Can't init from \""+f+'"',c)}return a},"import":function(b){H(c,b,!1);return a},"export":function(a){return z(c,c[6],a)},parse:function(a){return J(c,c[6],a)},update:function(b){b?P(c,b).update():
Q(c,c[6]);return a},alias:function(b,d){var e=c[5],f=n(b),h;5===f&&(f={},f[b]=d,b=f,f=8);if(8===f)for(h in b)for(f=b[h],7!==n(f)&&(f=[f]),(h in e)||(e[h]=[]),d=0;d<f.length;d++)e[h].push(f[d]);return a},conf:function(b,d){return U(c[4],b,d,a)},vars:function(b,d){return U(c[3],b,d,a)},units:function(b,d){return U(c[7],b,d,a)},parseVars:function(a,d){return C(a,[,,,d?K({},c[3],d):c[3],c[4]])},objFromCss:function(a){return Y(a)},_conf:ca,type:M,type_export:ia,messages:X});return a.conf(ca)}var x=["@charset",
"@import","@namespace","@font-face"],F=x.slice(0,3),X=[],da={Null:1,Undefined:2,Integer:3,Float:4,String:5,RegExp:6,Array:7,Object:8,Function:9},u=8===n(t),I={float:["cssFloat"]},K=9===n(Object.assign)?Object.assign:function(){var c,a,b=arguments;for(a=1;a<b.length;a++)for(c in b[a])b[0][c]=b[a][c];return b[0]},ea=9===n(Object.defineProperty)?Object.defineProperty:function(c,a,b){c[a]=b.value},ja=9===n(Object.preventExtensions),W=9===n(Object.freeze)?Object.freeze:function(c){var a={};L(a,c);c=a;
ja&&Object.preventExtensions(c);return c},ha=9===n(Object.keys)?Object.keys:function(c){var a=[],b;for(b in c)a.push(b);return a};n(Object.values);var M=W({rule:1,charset:2,"import":3,media:4,fontFace:5,page:6,keyframes:7,keyframe:8,namespace:10,counterStyle:11,supports:12,fontFeatureValues:14,viewport:15}),fa={css:1,min:2,obj:3,object:3,arr:4,array:4,objNMD:5},ia=W({css:"css",min:"min",obj:"obj",arr:"arr",object:"object",notMDObject:"objNMD",array:"array"}),ca=W({style_id:"cssc-style",view_err:!0,
parse_tab:2,parse_unit_default:"px",parse_vars_limit:100});if(u)t.exports=V();else return V()}("undefined"===typeof module?document:module);
