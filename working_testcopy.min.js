/**
 * CSSController - Dynamic CSS Controller. 
 * |-> CSSC        A way to manage style sheets.
 * 
 * @version 0.10a
 *
 * @author Pavel
 * @copyright Pavel Meliantchenkov
 */
var h=CSSController=function(){function v(w,C,D,x){function b(a,n){if("string"===typeof a){var f=null;n||(f=r(a));null===f&&(f=p(a,null,null));return q(f,a)}b.s(a)}function q(a,n){function f(e,c){return k[k.length-1](e,c)}function g(e){return{singleSet:function(c,a,d,b){d||(d=0);0===d&&0<e.length&&(d=e.length-1);"[object Function]"===Object.prototype.toString.call(a)?(e[d].a.style[c]=a(e[d].a.style[c]),b||(e[d].f[c]=a)):(e[d].a.style[c]=a,!b&&e[d].f[c]&&delete e[d].f[c]);return this},set:function(c,
a){if(0<e.length)if(b(h.m,c,a),b(h.F,c,a),"[object Object]"===Object.prototype.toString.call(c)&&0<Object.keys(c).length)for(var d=0;d<e.length;d++){for(var f in c)this.h(f,c[f],d);e[d].b&&(e[d].b=!1)}else if("[object Function]"===Object.prototype.toString.call(c))for(var g,d=0;d<e.length;d++){g=c();for(f in g)this.h(f,g[f],d,!0);e[d].b=c}else{if("[object String]"===Object.prototype.toString.call(c)&&"[object String]"===Object.prototype.toString.call(a))for(d=0;d<e.length;d++)this.h(c,a,d),e[d].b&&
(e[d].b=!1)}else b(h.B,c,a),p(n,c,a),e=r(n),b(h.G,c,a);b(h.o,c,a);b(h.J,c,a);return this},get:function(c){for(var a="",d=0;d<e.length;d++)for(var b=0;b<e[d].a.style.length;b++)if(e[d].a.style[b]===c){a=e[d].a.style[c];break}return a},"delete":function(c){b(h.m,c,null);b(h.C,c,null);for(var a=0;a<e.length;a++)e[a].a.style[c]="";b(h.o,c,null);b(h.H,c,null);return this},destroy:function(){b(h.D,null,null);for(var c=0;c<e.length;c++)e[c].a.parentStyleSheet.deleteRule(e[c]),l[n]&&delete l[n];b(h.I,null,
null)},event:function(c,e){var d={type:function(){return c},call:e,index:null,destroy:function(){}};a.c[c]?a.c[c].push(d):a.c[c]=[d];d.index=function(){return a.c[c].length-1};return d},elems:e,pos:function(c){return 0<=c&&c<e.length?g([e[c]]):null},first:function(){return this.g(0)},last:function(){return this.g(e.length-1)},type:a.type,merge:function(c){if(!e||0>=e.length)return this;var a;null===c&&(c=h.i.O);if(c===h.L)a=e[0];else if(c===h.u)a=e[e.length-1];else if(c===h.v||c===h.M){for(var d=
0;d<e.length&&(elem[d].a.parentStyleSheet.ownerNode.id!==m||(a=elem[d],c!==h.v));d++);a||(c=p(n),c.content[c.content.length-1].parentStyleSheet.ownerNode.id===m&&(a=c.content[c.content.length-1]))}if(a){for(d=0;d<e.length;d++);e=[a]}return this},update:function(){for(var a,b=0;b<e.length;b++){if(e[b].b){a=e[b].b();for(var d in a)this.h(d,a[d],b,!0)}for(d in e[b].f)this.h(d,e[b].f[d],b,!1)}}}}function b(e,c,f){if(a.c[e])for(var d=0;d<a.c[e].length;d++)a.c[e][d].call(c,f)}var k=a.content;f.P=k;f.type=
a.type;f.g=function(a,c,b){if(0<=a&&a<k.length)return c?k[a].a(c,b):k[a].a};f.first=function(a,c){return this.g(0,a,c)};f.K=function(a,c){return this.g(k.length-1,a,c)};f.update=function(){for(var a=0;a<k.length;a++)k[a].a.update()};return a.type===h.j?f:g(k)}function p(a,b,f){var g;if(x===h.j||x===h.w)g=w;else{if(!t){if(document.getElementById(m)){for(g=0;10>g;g++)if(!document.getElementById(m+"-"+g)){m=m+"-"+g;break}if(document.getElementById(m))throw Error("cann not create new element..");}g=document.createElement("style");
g.setAttribute("type","text/css");g.setAttribute("id",m);g.appendChild(document.createTextNode(""));document.head.appendChild(g);t=g}g=t.sheet}var l=g.cssRules.length,k="";if(b)if("[object Object]"===Object.prototype.toString.call(b))for(var e in b)k+=e+":"+b[e]+"; ";else k=b+":"+f+";";"insertRule"in g?g.insertRule(a+"{"+k+"}",l):"addRule"in g&&g.addRule(a,k,l);return y(g.cssRules[l],C)}function r(a){u||z();return l[a]?l[a]:null}function y(a,b){var f=a.cssText.substr(0,a.cssText.indexOf("{")).trim(),
g=h.l,m=a,k;0===f.indexOf("@media ")?g=h.j:0===f.indexOf("@keyframes ")&&(g=h.w);g!==h.l&&(m=new v(a,b,!0,g));k={a:m,b:!1,f:{}};l[f]?(l[f].content[0].a===m&&(console.log('Dublicate "'+f+'": '),console.log(Error().stack+"\n\n")),l[f].content.push(k)):l[f]={type:g,content:[k],events:{}};return l[f]}function A(a,b){for(var f=0;f<a.length;f++)a[f].parentStyleSheet.ownerNode.id===m||y(a[f],b)}function B(a){if("cssRules"in a)A(a.cssRules,a);else if("length"in a)for(var b=0;b<a.length;b++)A(a[b].cssRules,
a[b])}function z(){u||(B(w),u=!0,cssc_index=l)}var l={},u=!1;b.append=function(a){B(a)};b.s=function(a){var b,f,g;for(g in a)b=a[g],f=p(g,null,null),f=q(f,g),f.type!==h.l?f.K().s(b):f.set(b)};b.exp=function(){};b.A=function(){};b.R=b.A;b.update=function(a){var b;if(a)b=q(r(a),a),b.update();else for(var f in l)b=q(l[f],a),b.update()};b.l=0;b.j=1;b.w=2;b.m="beforechange";b.o="change";b.F="beforeset";b.J="set";b.B="beforecreate";b.G="create";b.C="beforedelete";b.H="delete";b.D="beforedestroy";b.I="destroy";
b.u=0;b.L=1;b.M=2;b.v=3;b.i={get:function(){},set:function(){},reset:function(){},defaultMergeType:b.u,dontTouchAllreadyLoadedCss:!1};b.i.N=Object.assign({},b.i);D?z():window.addEventListener("load",function(){});return b}var t,m="cssc-container";return new v(document.styleSheets,null,!1,null)}();
